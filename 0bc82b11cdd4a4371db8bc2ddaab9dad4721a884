{
  "comments": [
    {
      "key": {
        "uuid": "0279c689_74cece8c",
        "filename": "lib/reduce/reduce.c",
        "patchSetId": 2
      },
      "lineNbr": 332,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T06:39:13Z",
      "side": 1,
      "message": "This function is called only once globally? Adding zero_buf to struct spdK_reduce_vol and allocating it here may be reasonable?",
      "range": {
        "startLine": 332,
        "startChar": 0,
        "endLine": 332,
        "endChar": 22
      },
      "revId": "0bc82b11cdd4a4371db8bc2ddaab9dad4721a884",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecda235f_6b38b936",
        "filename": "lib/reduce/reduce.c",
        "patchSetId": 2
      },
      "lineNbr": 332,
      "author": {
        "id": 1011289
      },
      "writtenOn": "2019-07-02T18:27:34Z",
      "side": 1,
      "message": "correct, this seemed like the best common point of init to allocate the mem. I don\u0027t want to add it to the vol struct because it\u0027s just a bunch of zeroes, multiple volumes can safely share this.",
      "parentUuid": "0279c689_74cece8c",
      "range": {
        "startLine": 332,
        "startChar": 0,
        "endLine": 332,
        "endChar": 22
      },
      "revId": "0bc82b11cdd4a4371db8bc2ddaab9dad4721a884",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "29c8005e_187b4c1d",
        "filename": "lib/reduce/reduce.c",
        "patchSetId": 2
      },
      "lineNbr": 332,
      "author": {
        "id": 1011289
      },
      "writtenOn": "2019-07-02T18:30:26Z",
      "side": 1,
      "message": "oh wait, I think you may have identified for me that this isn\u0027t the best place to alloc this as it will happen per vol. I don\u0027t think there is a non-per-vol init opportunity, but I can init this to NULL and only allocate it once",
      "parentUuid": "ecda235f_6b38b936",
      "range": {
        "startLine": 332,
        "startChar": 0,
        "endLine": 332,
        "endChar": 22
      },
      "revId": "0bc82b11cdd4a4371db8bc2ddaab9dad4721a884",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3255fcc0_63becc12",
        "filename": "lib/reduce/reduce.c",
        "patchSetId": 2
      },
      "lineNbr": 332,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T23:06:32Z",
      "side": 1,
      "message": "Yes, this ensures g_zero_buf is allocated only once. I have a simple question. If the reduce library is used only in bdev/compress the allocation can be done in the initialization of bdev/compress? Will you give your thought?",
      "parentUuid": "29c8005e_187b4c1d",
      "range": {
        "startLine": 332,
        "startChar": 0,
        "endLine": 332,
        "endChar": 22
      },
      "revId": "0bc82b11cdd4a4371db8bc2ddaab9dad4721a884",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}