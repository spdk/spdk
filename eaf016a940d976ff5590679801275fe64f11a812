{
  "comments": [
    {
      "key": {
        "uuid": "4ca41687_37bfdafb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 14,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2020-01-17T00:45:34Z",
      "side": 1,
      "message": "but we have to account for the md_descriptor header - so it won\u0027t be a full 4096 bytes for extent entries\n\nI\u0027d call that out here in the commit message.  I know we already talked about this limitation (it means we\u0027d waste almost have of the md page) but our calculations indicated that it won\u0027t really matter\n\nbut I guess the other question is how often are we doing extent page calculations?  do we ever have to do it in the main I/O path?  I think it\u0027s only needed when we are allocating clusters - so maybe a non-power-of-2 is OK\n\nAt some point I was concerned about the power-of-2 stuff here, but now I\u0027m wondering if it\u0027s not really an issue at all.",
      "revId": "eaf016a940d976ff5590679801275fe64f11a812",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46ff8993_cd470753",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 14,
      "author": {
        "id": 1011221
      },
      "writtenOn": "2020-01-17T17:40:58Z",
      "side": 1,
      "message": "With the current structure layout the values work out to SPDK_EXTENTS_PER_EP_MAX\u003d\u003d1016 and thus pow2 SPDK_EXTENTS_PER_EP\u003d\u003d512.\n\nI don\u0027t think we ever do this calculation in I/O path, except when allocating new extent page on new cluster allocation due to write to it.\n\nIf preferred could use SPDK_EXTENTS_PER_EP_MAX.",
      "parentUuid": "4ca41687_37bfdafb",
      "revId": "eaf016a940d976ff5590679801275fe64f11a812",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d83d4ab_9d30b663",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 14,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2020-01-17T20:19:56Z",
      "side": 1,
      "message": "Sorry - I was thinking of extents per page, not pages per table.  pages are 4 bytes (not 8) so indeed we can do 512 here",
      "parentUuid": "46ff8993_cd470753",
      "revId": "eaf016a940d976ff5590679801275fe64f11a812",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c306a230_35bec398",
        "filename": "lib/blob/blobstore.h",
        "patchSetId": 18
      },
      "lineNbr": 378,
      "author": {
        "id": 1011289
      },
      "writtenOn": "2020-01-16T22:05:36Z",
      "side": 1,
      "message": "Might be nice to add a comment here from your commit message since the math here isn\u0027t super easy to do in one\u0027s head ðŸ˜Š\n\"For an SPDK_BS_PAGE_SIZE of 4K SPDK_EXTENTS_PER_ET would be 512.\"",
      "revId": "eaf016a940d976ff5590679801275fe64f11a812",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05a984d1_27be9494",
        "filename": "lib/blob/blobstore.h",
        "patchSetId": 18
      },
      "lineNbr": 378,
      "author": {
        "id": 1011221
      },
      "writtenOn": "2020-01-17T17:40:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c306a230_35bec398",
      "revId": "eaf016a940d976ff5590679801275fe64f11a812",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}