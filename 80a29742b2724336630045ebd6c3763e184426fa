{
  "comments": [
    {
      "key": {
        "uuid": "149b1963_2c672b15",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 54,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "Can we make this a config parameter instead of hard-coded?\n\nIf it needs to stay, then at least make it static.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a3532e14_911b8577",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 54,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Agreed.  I hardcoded this when I first was hacking this up - before I even added config parameters for the target node/LUN.  Should be super simple to make this a config parameter (using this one as the default though if the config doesn\u0027t specify one)",
      "parentUuid": "149b1963_2c672b15",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c1c99db_f9ecac39",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 113,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "It would be nice to use spdk_bdev_io_complete_scsi_status() if we have the SCSI sense code information available.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4846ac29_da3158a6",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 113,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Agreed.",
      "parentUuid": "1c1c99db_f9ecac39",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4354ba66_cbd64007",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 134,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "This looks like it\u0027s disregarding the status value and just always returning success - is that intentional?",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4458d2c0_9684dbdf",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 134,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Not intentional.  Not sure what I was thinking here - probably done in haste during initial development.",
      "parentUuid": "4354ba66_cbd64007",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6013fb06_6e21f541",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 146,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "Is this 512 the block size of the disk? If so, it should definitely not be hard-coded (you should be able to get this from bdev-\u003eblocklen).",
      "range": {
        "startLine": 146,
        "startChar": 56,
        "endLine": 146,
        "endChar": 60
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4e78fc0_c399394f",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 146,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Agreed - this needs to be changed.",
      "parentUuid": "6013fb06_6e21f541",
      "range": {
        "startLine": 146,
        "startChar": 56,
        "endLine": 146,
        "endChar": 60
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3d1edff1_598821d0",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 155,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "Some extra whitespace here should be removed.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d2f9c5a_df7c401b",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 157,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "Is struct scsi_iovec guaranteed to be the same layout as the system\u0027s struct iovec?",
      "range": {
        "startLine": 157,
        "startChar": 28,
        "endLine": 157,
        "endChar": 49
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "afa63d98_17006be3",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 157,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Yes.  The header file says \"struct scsi_iovec follows the POSIX struct over definition and *MUST* never change\".",
      "parentUuid": "9d2f9c5a_df7c401b",
      "range": {
        "startLine": 157,
        "startChar": 28,
        "endLine": 157,
        "endChar": 49
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d2d57e6_7135bb8c",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 173,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "This looks exactly the same as bdev_iscsi_readv_cb() - can we reuse the same function?",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa6e8d32_7591a9cf",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 173,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Yes",
      "parentUuid": "4d2d57e6_7135bb8c",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1f7dbe7_91e622db",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 210,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "This looks bogus - if we\u0027re not actually sending a flush command, then just don\u0027t implement SPDK_BDEV_IO_TYPE_FLUSH at all.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33a2d5f5_f42b5acd",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 210,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Agreed",
      "parentUuid": "a1f7dbe7_91e622db",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "833cc1a0_671c37d5",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 250,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "This is not a sufficient implementation of reset; it needs to at least do the same hack as RBD.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4284d44a_6607b76e",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 339,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "Any reason this is set to run at 5 Âµs intervals?  That seems too short to be worth using a timer poller; either set this to 0 to avoid the timer rdtsc overhead, or set it to a higher value if it doesn\u0027t need to poll that often.",
      "range": {
        "startLine": 339,
        "startChar": 55,
        "endLine": 339,
        "endChar": 59
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1de6e7d_b71a82a4",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 339,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Let\u0027s change it to 0.\n\nI was playing around with this early on, thinking it might be expensive to do the libiscsi polling operation.  But I\u0027d say make it 0 for now - we can change it later if necessary.",
      "parentUuid": "4284d44a_6607b76e",
      "range": {
        "startLine": 339,
        "startChar": 55,
        "endLine": 339,
        "endChar": 59
      },
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "327ed8d0_44b9c342",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 379,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T22:25:57Z",
      "side": 1,
      "message": "This should at least dump the address and IQN.",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f9c192d_0e349667",
        "filename": "lib/bdev/iscsi/bdev_iscsi.c",
        "patchSetId": 24
      },
      "lineNbr": 379,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T22:37:52Z",
      "side": 1,
      "message": "Agreed.",
      "parentUuid": "327ed8d0_44b9c342",
      "revId": "80a29742b2724336630045ebd6c3763e184426fa",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}