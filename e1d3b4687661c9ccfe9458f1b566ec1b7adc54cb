{
  "comments": [
    {
      "key": {
        "uuid": "afa8908b_437e324d",
        "filename": "include/spdk/scsi.h",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-07-13T07:05:43Z",
      "side": 1,
      "message": "(I know this patch is marked draft - but saw it related to another patch I was reviewing so I took a look).\n\nDeclaring parameters as arrays in C does not really work.  User could pass an array of size 1 here and compiler would not even warn about it I don\u0027t think.\n\nI like the idea of reducing the number of parameters here, but I think you need to still pass a num_luns parameter and just get rid of the lun_id_list.",
      "revId": "e1d3b4687661c9ccfe9458f1b566ec1b7adc54cb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "702cd5f0_f27a317c",
        "filename": "include/spdk/scsi.h",
        "patchSetId": 4
      },
      "lineNbr": 200,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-08-01T05:27:56Z",
      "side": 1,
      "message": "\u003e I like the idea of reducing the number of parameters here, but I think you need to still pass a num_luns parameter and just get rid of the lun_id_list.\n\nThat would be straightforward if lun ids were contiguous. In this case I could add max_luns param. So that if user wants to pass two LUNs, one with id 0, the other one id 2. he would have to pass max_luns \u003d 3. However, looking from the spdk_scsi_dev_construct caller perspective, max_luns would be hard to compute. Take iscsi spdk_cf_add_iscsi_tgt_node code for example, line #938. There\u0027s lun_name_list array of size SPDK_SCSI_DEV_MAX_LUN anyway. Why wouldn\u0027t we pass it right away?\n\n\u003e Declaring parameters as arrays in C does not really work.  User could pass an array of size 1 here and compiler would not even warn about it I don\u0027t think.\n\nSure thing.",
      "parentUuid": "afa8908b_437e324d",
      "revId": "e1d3b4687661c9ccfe9458f1b566ec1b7adc54cb",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}