{
  "comments": [
    {
      "key": {
        "uuid": "26d227cf_703fe0a8",
        "filename": "lib/bdev/raid/bdev_raid.c",
        "patchSetId": 1
      },
      "lineNbr": 499,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-21T07:29:03Z",
      "side": 1,
      "message": "What you do is the following?\n\nWhen the child reset IO fails not due to ENOMEM,\n- complete with failure immediately if all prior child IOs already completed, or\n- set the status to failure and complete with failure later by the last completed child IO otherwise.",
      "range": {
        "startLine": 498,
        "startChar": 3,
        "endLine": 499,
        "endChar": 52
      },
      "revId": "87ee9a56f690a3d2b8ef06108ad3f114d3bc28ef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1f389_4e4be4b3",
        "filename": "lib/bdev/raid/bdev_raid.c",
        "patchSetId": 1
      },
      "lineNbr": 507,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-21T07:29:03Z",
      "side": 1,
      "message": "Maybe raid_bdev_process_reset_submission_failure or raid_bdev_handle_reset_submission_failure ?",
      "range": {
        "startLine": 507,
        "startChar": 0,
        "endLine": 507,
        "endChar": 38
      },
      "revId": "87ee9a56f690a3d2b8ef06108ad3f114d3bc28ef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f444600c_11f4af83",
        "filename": "lib/bdev/raid/bdev_raid.c",
        "patchSetId": 1
      },
      "lineNbr": 518,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-21T07:29:03Z",
      "side": 1,
      "message": "I think you should update bdev_reset_waited only if this child IO doesn\u0027t complete now.\nOtherwise spdk_bdev_io_complete() may be called twice ?\n\n\n\tif (raid_io-\u003ebase_bdev_reset_completed \u003d\u003d raid_io-\u003ebase_bdev_reset_submitted) {\n\t\tspdk_bdev_io_complete(raid_bdev_io, SPDK_BDEV_IO_STATUS);\n\t\treturn;\n\t}\n\n\traid_io-\u003ebase_bdev_reset_status \u003d SPDK_BDEV_IO_STATUS_FAILED;\n\traid_io-\u003ebase_bdev_reset_waited \u003d raid_io-\u003ebase_bdev_reset_submitted;",
      "range": {
        "startLine": 513,
        "startChar": 0,
        "endLine": 518,
        "endChar": 2
      },
      "revId": "87ee9a56f690a3d2b8ef06108ad3f114d3bc28ef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120e8281_98325df5",
        "filename": "lib/bdev/raid/bdev_raid.h",
        "patchSetId": 1
      },
      "lineNbr": 143,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-21T07:29:03Z",
      "side": 1,
      "message": "base_bdev_reset_last is a little more intuitive?",
      "range": {
        "startLine": 143,
        "startChar": 28,
        "endLine": 143,
        "endChar": 34
      },
      "revId": "87ee9a56f690a3d2b8ef06108ad3f114d3bc28ef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}