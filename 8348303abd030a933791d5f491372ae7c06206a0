{
  "comments": [
    {
      "key": {
        "uuid": "e5fca82e_7dee12fb",
        "filename": "lib/bdev/passthru/vbdev_passthru.c",
        "patchSetId": 1
      },
      "lineNbr": 228,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2019-07-04T06:39:50Z",
      "side": 1,
      "message": "I think you can just remove spdk_bdev_readv_blocks() call here.",
      "revId": "8348303abd030a933791d5f491372ae7c06206a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "816d605b_acdef1ff",
        "filename": "lib/bdev/passthru/vbdev_passthru.c",
        "patchSetId": 1
      },
      "lineNbr": 228,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-04T08:30:53Z",
      "side": 1,
      "message": "Thank you, Changpeng.\n\nIf I understand correctly, spdk_bdev_readv_blocks_with_md will fail for non-metadata IO or interleaved metadata IO.\nPlease see the following.\n\nint\nspdk_bdev_readv_blocks_with_md(struct spdk_bdev_desc *desc, struct spdk_io_channel *ch,\n                               struct iovec *iov, int iovcnt, void *md_buf,\n                               uint64_t offset_blocks, uint64_t num_blocks,\n                               spdk_bdev_io_completion_cb cb, void *cb_arg)\n{\n        if (!spdk_bdev_is_md_separate(spdk_bdev_desc_get_bdev(desc))) {\n                return -EINVAL;\n        }\n\n        if (!_bdev_io_check_md_buf(iov, md_buf)) {\n                return -EINVAL;\n        }\n\nHence we need this if-else. I followed the logic added by Konlad to partition bdev layer.\nAm I missing anything?",
      "parentUuid": "e5fca82e_7dee12fb",
      "revId": "8348303abd030a933791d5f491372ae7c06206a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cce817c_49006b68",
        "filename": "lib/bdev/passthru/vbdev_passthru.c",
        "patchSetId": 1
      },
      "lineNbr": 278,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2019-07-04T06:39:50Z",
      "side": 1,
      "message": "ditto.",
      "revId": "8348303abd030a933791d5f491372ae7c06206a0",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}