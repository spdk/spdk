{
  "comments": [
    {
      "key": {
        "uuid": "74c2ac3d_8ddd7ae8",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 561,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Why was this before checking the state?",
      "range": {
        "startLine": 561,
        "startChar": 0,
        "endLine": 561,
        "endChar": 30
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "037f49af_3368e0d7",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 561,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "I have rearrange this function logic.",
      "parentUuid": "74c2ac3d_8ddd7ae8",
      "range": {
        "startLine": 561,
        "startChar": 0,
        "endLine": 561,
        "endChar": 30
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54f816b2_c562251d",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Why are we returning here? We didn\u0027t do that previously.",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 566,
        "endChar": 3
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f51cdac4_92397cfe",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "^",
      "parentUuid": "54f816b2_c562251d",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 566,
        "endChar": 3
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fde76ee5_c2491de1",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-10-17T08:08:17Z",
      "side": 1,
      "message": "This change doesn\u0027t just rearrange stuff, but changes the logic. Before we always releeased the LBA map and decremented the num_active counter, now we\u0027re not doing it for the high_prio bands with num_lbks \u003e 0. Should we be doing that? If we should, please move this change to a separate patch.",
      "parentUuid": "f51cdac4_92397cfe",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 566,
        "endChar": 3
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d2a0cfc5_12567410",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-10-17T09:16:55Z",
      "side": 1,
      "message": "I\u0027m not calling ftl_reloc_prep() anymore in ftl_reloc() so we need to keep high prio band active when some additional work is needed.",
      "parentUuid": "fde76ee5_c2491de1",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 566,
        "endChar": 3
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e978369_151e12d9",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 572,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Let\u0027s add an assertion here that breloc-\u003estate \u003d\u003d FTL_BAND_RELOC_STATE_ACTIVE.",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15a3fc1f_02e5c997",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 572,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e978369_151e12d9",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50999ce3_600d469b",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 585,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Why is this needed, but wasn\u0027t needed before? Doesn\u0027t ftl_band_empty(band) imply that breloc-\u003enum_lbks \u003d\u003d 0?",
      "range": {
        "startLine": 585,
        "startChar": 5,
        "endLine": 585,
        "endChar": 26
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4214ba2_c1b8d8cf",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 585,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "breloc-\u003enum_lbks is set during ftl_reloc_add()",
      "parentUuid": "50999ce3_600d469b",
      "range": {
        "startLine": 585,
        "startChar": 5,
        "endLine": 585,
        "endChar": 26
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8ff1445_93791bb0",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 585,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-10-17T08:08:17Z",
      "side": 1,
      "message": "I\u0027m not sure what do you mean. I\u0027m under the impression that once we call ftl_reloc_release on an empty band breloc-\u003enum_lbks must equal 0. If that\u0027s the case, this condition is redundant and should be changed into an assertion.",
      "parentUuid": "f4214ba2_c1b8d8cf",
      "range": {
        "startLine": 585,
        "startChar": 5,
        "endLine": 585,
        "endChar": 26
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00ac0130_62218446",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 585,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-10-17T09:16:55Z",
      "side": 1,
      "message": "You can get ftl_reloc_add() during relocation - for example you got two ANM events on same band.",
      "parentUuid": "b8ff1445_93791bb0",
      "range": {
        "startLine": 585,
        "startChar": 5,
        "endLine": 585,
        "endChar": 26
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b44ecde_abe8aefe",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 785,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Let\u0027s assert here that breloc-\u003estate \u003d\u003d FTL_BAND_RELOC_STATE_PENDING.",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f83e854_cc3f3e0e",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 785,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b44ecde_abe8aefe",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1feb50a_11002824",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 788,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "Unnecessary newline.",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "768a208d_d78cb005",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 788,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1feb50a_11002824",
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "388db728_6d358121",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 855,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-16T07:44:21Z",
      "side": 1,
      "message": "I don\u0027t think we want to do that if the band was already being processed. Also, please make sure to add a comment explaining that the bands on the prio_queue are already prepped and why we need to do that.",
      "range": {
        "startLine": 854,
        "startChar": 41,
        "endLine": 855,
        "endChar": 25
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00a4525f_0acb801a",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 855,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-09-23T12:44:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "388db728_6d358121",
      "range": {
        "startLine": 854,
        "startChar": 41,
        "endLine": 855,
        "endChar": 25
      },
      "revId": "cc7a087740380624c915f5ba31d15c4a23bb1e7b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}