{
  "comments": [
    {
      "key": {
        "uuid": "b1095b56_a8ac706f",
        "filename": "doc/jsonrpc.md",
        "patchSetId": 69
      },
      "lineNbr": 1421,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "Let\u0027s add that these RPCs are subject to change.\n\nI think eventually we\u0027ll want block FTL to be able to reuse more of the existing NVMe RPCs.  I don\u0027t know what that will exactly look like yet, but good to mark these so that users know they might change.",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27ec07dd_c3792def",
        "filename": "doc/jsonrpc.md",
        "patchSetId": 69
      },
      "lineNbr": 1421,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b1095b56_a8ac706f",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be9ca6bc_4c025196",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 424,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:44:41Z",
      "side": 1,
      "message": "would this be easier if we just specified begin and end as separate inputs?\n\nI\u0027m not asking you to change it - this all just seems fairly complex\n\nI wouldn\u0027t mind having this code check that begin \u003c\u003d end - I know that ftl_check_init_opts() does this, but I had to go search through the code to make sure - having a check here would simplify this for the reader",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49b5546b_1f2a62cb",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 424,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Ok I will add this check. I think we could separate this input to lun begin and end. This will allow us to remove this regex logic. I would prefer to change this after we replace config_text to config_json.",
      "parentUuid": "be9ca6bc_4c025196",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f928fb4c_5145dd57",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 424,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-23T19:04:54Z",
      "side": 1,
      "message": "Sounds good.",
      "parentUuid": "49b5546b_1f2a62cb",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e54ab36e_d687559f",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 496,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "what if user tries to specify an NVMe-oF trid?\n\nI think it would be better to *not* automatically set the trtype to PCIE here; instead check that trtype \u003d\u003d PCIE and fail if it doesn\u0027t\n\nit does mean that the user needs to pedantically specify the trtype, but that\u0027s OK - that\u0027s what everyone has to do today with the regular NVMe driver",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88417ed3_7ef771db",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 496,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Ok, I will add this to user interface.",
      "parentUuid": "e54ab36e_d687559f",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a899b97_38085bbf",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 594,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "let\u0027s change bdev to ftl_bdev\n\nalso align the variable name with the variables just below",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9437d293_669cbffd",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 594,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7a899b97_38085bbf",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4dc6997_93ba9996",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 607,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "I think you shouldn\u0027t check the return code here - this can only fail if dev or \u0026attrs is NULL - which can\u0027t be the case here\n\nprobably spdk_ftl_dev_get_attrs could be modified to return void - we don\u0027t need to do that change in this patch, but we can simplify this code and just don\u0027t check this return code",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e45277b_19ab49a4",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 607,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d4dc6997_93ba9996",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bb008b8_5c4da77b",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 618,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "this is intended to specify that the data buffers must have certain alignment - I don\u0027t think that\u0027s the case for FTL though",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9154607c_5883ba6b",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 618,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "This is needed because some of our test that use ndb are failing without this alignment. I think we already agreed that it could stay for now until we found the root cause (probably there is some bug in qemu or ocssd nvme layer in spdk). I can add TODO for this.",
      "parentUuid": "6bb008b8_5c4da77b",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "002a2cb5_d2001647",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 618,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-23T19:04:54Z",
      "side": 1,
      "message": "OK - the TODO here is fine for now.",
      "parentUuid": "9154607c_5883ba6b",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d143a73_b01d2cae",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 653,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "this passes NULL for cb_fn - but spdk_ftl_dev_free() will immediately fail with -EINVAL status then - should spdk_ftl_dev_free be modified, or should this call be removed here?",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ef12729_383dbc17",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 653,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "This should be removed, ftil_init_fail will do all necessary cleanups.",
      "parentUuid": "0d143a73_b01d2cae",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de106fe7_579fa396",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 668,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "let\u0027s rename this variable to ftl_bdev - pretty much throughout all of the bdev modules in SPDK, the name \"bdev\" is always used to point to a struct spdk_bdev",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "993ed0a8_e001ac26",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 668,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "de106fe7_579fa396",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bb7e162_54a38452",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 760,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "we don\u0027t void cast unused variables in SPDK - so you can remove this",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e635c22_aa1ec3fa",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 760,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bb7e162_54a38452",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9b8f87f_edd686dd",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 796,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "move declaration to beginning of function",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e56e41c0_058496e8",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 796,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b9b8f87f_edd686dd",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "359a74d0_d988bd70",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 836,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "I don\u0027t think you can just drop through here.  If you did hit an error case, you need to call spdk_bdev_module_init_done(), since you\u0027ll never get to bdev_ftl_initialize_cb getting called.",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37442622_9ad2a23f",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 836,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "359a74d0_d988bd70",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c65e21e0_743e5c2c",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 849,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "let\u0027s make these asserts",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f0506c4_84e7a449",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 849,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c65e21e0_743e5c2c",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0ad9761_be34768b",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 871,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "it\u0027s better to just call spdk_nvme_connect instead of spdk_nvme_probe with a NULL probe_fn\n\nthis also guards against the case where user passes an empty trid (i.e. something with just whitespace) which when paired with PCIE transport, will try to connect to *every* PCIe SSD when no probe_cb is specified",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b704da4_48676d64",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 871,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c0ad9761_be34768b",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1421dfd8_bb09c865",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 901,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "we don\u0027t void cast unused variables in SPDK - so you can remove this",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d58f386_cc8d4089",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 901,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1421dfd8_bb09c865",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7bb1caf_e532f3df",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 947,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "this doesn\u0027t seem to match the format that bdev_ftl_read_bdev_config is expecting\n\nI\u0027m OK just removing config_text support (including this function) unless you really need it for testing - we are moving to having everything JSON based",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a7e4b47_e47e5a20",
        "filename": "lib/bdev/ftl/bdev_ftl.c",
        "patchSetId": 69
      },
      "lineNbr": 947,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "I\u0027ve already added TODO to change config_text_support to config_json. I will prefer to do this as separate patch - our test currently depends on this text_support.",
      "parentUuid": "f7bb1caf_e532f3df",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9e6f08a_1fdf6d52",
        "filename": "lib/bdev/ftl/bdev_ftl.h",
        "patchSetId": 69
      },
      "lineNbr": 62,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-22T21:21:19Z",
      "side": 1,
      "message": "uint32_t",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48da0d48_2cc13f96",
        "filename": "lib/bdev/ftl/bdev_ftl.h",
        "patchSetId": 69
      },
      "lineNbr": 62,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-01-23T14:23:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9e6f08a_1fdf6d52",
      "revId": "98b14340c415024fd23f38b02c90a72b9e701181",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}