{
  "comments": [
    {
      "key": {
        "uuid": "9f0216e3_c110437f",
        "filename": "lib/nvmf/rdma.c",
        "patchSetId": 4
      },
      "lineNbr": 1072,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2019-03-29T19:04:49Z",
      "side": 1,
      "message": "Do you actually rely on qpair being NULL anywhere? Could you instead change that check to rqpair-\u003esrq? I\u0027m wondering if we can entirely unify the code paths here.",
      "revId": "f5a0cce1cd721aafcb840ff613f66305d01c7986",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6cc6f540_fd42616a",
        "filename": "lib/nvmf/rdma.c",
        "patchSetId": 4
      },
      "lineNbr": 1072,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-03-29T19:58:58Z",
      "side": 1,
      "message": "There\u0027s a check on line 3097 in this file that currently checks recv-\u003eqpair and assigns it a new one if it\u0027s NULL.\nBut you are right. We just need to know if the recv came from a shared recv queue. If it did we need to reset it.\nI will change that up.",
      "parentUuid": "9f0216e3_c110437f",
      "revId": "f5a0cce1cd721aafcb840ff613f66305d01c7986",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "680d0128_b578fb0a",
        "filename": "lib/nvmf/rdma.c",
        "patchSetId": 4
      },
      "lineNbr": 1072,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-04-02T19:58:21Z",
      "side": 1,
      "message": "So I don\u0027t think this is actually possible. If we don\u0027t set the qpair to NULL before we run the risk of the qpair being destroyed between when we post the recv and when we get the completion for the posted recv. In that case, we can run into the issue where the qpair has been freed and the pointers inside are garbage. This can be seen in the output from the last two iterations through the test pool on this patch.",
      "parentUuid": "6cc6f540_fd42616a",
      "revId": "f5a0cce1cd721aafcb840ff613f66305d01c7986",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3003ebe5_904f6a04",
        "filename": "lib/nvmf/rdma.c",
        "patchSetId": 4
      },
      "lineNbr": 1072,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-04-26T18:13:53Z",
      "side": 1,
      "message": "Actually it is. I can just use the rpoller-\u003esrq to check.",
      "parentUuid": "680d0128_b578fb0a",
      "revId": "f5a0cce1cd721aafcb840ff613f66305d01c7986",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}