{
  "comments": [
    {
      "key": {
        "uuid": "b8922347_738c58ef",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 226,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-10-17T17:35:41Z",
      "side": 1,
      "message": "check return code so we can fail the bdev_io if the ring is somehow full",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a86636e4_31c80d22",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 226,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-17T18:03:36Z",
      "side": 1,
      "message": "we\u0027re not checking against any full virtqueues right now, so i left this one as is.\ni\u0027ve added the extra checks here: https://review.gerrithub.io/c/382783/",
      "parentUuid": "b8922347_738c58ef",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f7ea5ee_9dfbba20",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 434,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-10-17T17:35:41Z",
      "side": 1,
      "message": "ring size is hardcoded to 16 below - why make this an array of 32?",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca62d8bf_8195925e",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 434,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-17T18:03:36Z",
      "side": 1,
      "message": "true, this could probably use some define",
      "parentUuid": "0f7ea5ee_9dfbba20",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9e6cbb9_0082e909",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 434,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-18T07:04:21Z",
      "side": 1,
      "message": "I added CTRLQ_RING_SIZE define but I don\u0027t think this req array should scale with the ring size.\nIt has size 16 now - that\u0027s probably still too much for any real-case scenario.",
      "parentUuid": "ca62d8bf_8195925e",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffe0a7f2_bf40a22e",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 503,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-10-17T17:35:41Z",
      "side": 1,
      "message": "should this return here so we don\u0027t proceed?  i think we need an error message too\n\ni think if we cannot acquire the CONTROLQ for some reason, we should not still create a poller for it - maybe you just continue without a CONTROLQ but really if we cannot get the CONTROLQ something very bad has gone wrong and we should just return and not add this bdev",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37cb5215_9f097d03",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 503,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-18T07:04:21Z",
      "side": 1,
      "message": "You\u0027re probably right,\nadded scan_target_abort()",
      "parentUuid": "ffe0a7f2_bf40a22e",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bab92ef_cb91a1c4",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 901,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-10-17T17:35:41Z",
      "side": 1,
      "message": "we should add a spdk_ring_count() instead in env.h, using rte_ring_count for implementation\n\ni\u0027ll leave it up to you if you want to add it - maybe comment that there is no spdk_ring_count so you have to do a dequeue instead",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "716f51be_cc698777",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 12
      },
      "lineNbr": 901,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-18T07:04:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9bab92ef_cb91a1c4",
      "revId": "d1714d240ec5a3c270bf285658bbd4e085bec895",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}