{
  "comments": [
    {
      "key": {
        "uuid": "b9aafba9_a5ce436d",
        "filename": "lib/vhost/vhost.c",
        "patchSetId": 2
      },
      "lineNbr": 367,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2019-05-17T07:00:51Z",
      "side": 1,
      "message": "Let me quote your email:\n\n\u003e A quick thought about the unconditional vhost device interrupts we were\n\u003e talking about:\n\u003e \n\u003e It is true that DPDKâ€™s `rte_vhost_vring_call()` uses the event idx\n\u003e mechanism in order to support interrupt suppression. However, this is\n\u003e not a problem for the SPDK vhost devices, which perform interrupt\n\u003e coalescing internally, provided that they do not negotiate the\n\u003e VIRTIO_F_EVENT_IDX feature flag during device initialization. This holds\n\u003e true for all SPDK vhost devices (`SPDK_VHOST_DISABLED_FEATURES`), so\n\u003e there is no reason to worry about it.\n\nI see now. Agreed - without event index we should be safe.\n\nFrom what I see rte_vhost_vring_call() can silently suppress interrupts without event index as well, but only because the driver is already processing the used vring and doesn\u0027t need to be interrupted. We end up not sending the interrupt, but it\u0027s fine.",
      "revId": "b233088975fee85f4acf908d93243bd6ba37377e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}