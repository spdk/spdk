{
  "comments": [
    {
      "key": {
        "uuid": "fd537c1c_bde015bb",
        "filename": "lib/nvmf/subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 397,
      "author": {
        "id": 1011327
      },
      "writtenOn": "2017-06-15T03:19:46Z",
      "side": 1,
      "message": "Can you also make MAX_VIRTUAL_NAMESPACE a configurable parameter? maybe pass to spdk_nvmf_tgt_init() to be set.\n\nIs there any changing planned to replace spdk_bdev with something like spdk_nvme_namespace similar to spdk_scsi_lun?\nI am looking at something like that so we can have some state info, nguid, nsid and io_channels on namespace structure.",
      "revId": "6e85b68db514485578d4062e0a6b5e456f5aa3ae",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b99de32d_f08631f4",
        "filename": "lib/nvmf/subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 397,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2017-06-15T18:10:27Z",
      "side": 1,
      "message": "Yes, we should do another patch that makes the number of namespaces configurable.  I think it can actually just be fully dynamic, but we need to work out the thread safety implications.\n\nI also agree that we should have some kind of structure to track per-NS state like GUID, plus interfaces to configure those properties when namespaces are added. I\u0027ll take a crack at that next.",
      "parentUuid": "fd537c1c_bde015bb",
      "revId": "6e85b68db514485578d4062e0a6b5e456f5aa3ae",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3a2f1d7_27ee6f2e",
        "filename": "lib/nvmf/subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 397,
      "author": {
        "id": 1011327
      },
      "writtenOn": "2017-06-15T20:04:59Z",
      "side": 1,
      "message": "Fully dynamic brings in thread safety issues as you mentioned and to keep it lockless it will become a lot complex design. Apart from that we may not be able to do nsid search in O(1) as is done with a fixed array.\nHaving a configurable max namespaces would be good with most use cases I believe.\n\nI am working on a namespace structure which replaces bdev in ns_list based on my requirement. If you are going to work on it I would pass my requirement in comments when you submit for review. Please include me so I don\u0027t miss it.\nThank you!",
      "parentUuid": "b99de32d_f08631f4",
      "revId": "6e85b68db514485578d4062e0a6b5e456f5aa3ae",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}