{
  "comments": [
    {
      "key": {
        "uuid": "df39ab98_d4b29d33",
        "filename": "lib/bdev/nvme/bdev_nvme.h",
        "patchSetId": 26
      },
      "lineNbr": 88,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-07-20T18:14:12Z",
      "side": 1,
      "message": "I\u0027m not convinced we need to support deleting by trid at all. We don\u0027t do similar things for the other bdevs. When the user created the bdevs, they provided a name that they wished to use as the base name for the bdevs. I think it\u0027s entirely reasonable to require them to provide that name on delete (called base_name in the create call). That makes the code a lot simpler.\n\nI know the option to delete using either mechanism was added in mid-way through this review, so I\u0027m open to other opinions here. I just prefer to keep things simple.",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2f58a0e_dcadd519",
        "filename": "lib/bdev/nvme/bdev_nvme.h",
        "patchSetId": 26
      },
      "lineNbr": 88,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-07-23T12:41:23Z",
      "side": 1,
      "message": "Ben could you talk with Jim regarding this as this was his idea? Let me know what the decision is - do we remove it or leave it as it is?",
      "parentUuid": "df39ab98_d4b29d33",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd0237d0_ff852b1d",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-07-19T08:02:19Z",
      "side": 1,
      "message": "if req.traddr is NULL, the behavior is officially undefined? if (req.tradd) {} should be added here?\n\nFor spdk_rpc_construct_nvme_bdev, traddr is a required parameter.",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72e8468a_96d3fbd4",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-07-19T12:50:58Z",
      "side": 1,
      "message": "traddr may be NULL, because spdk_bdev_nvme_delete(\u0026trid, req.name) uses trid or name - it does not require both.",
      "parentUuid": "cd0237d0_ff852b1d",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "55cbdab9_f1adaf00",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-07-19T13:09:25Z",
      "side": 1,
      "message": "What I wanted to say was fprintf(but, \"%s\", NULL) is acceptable?\nIf yes, it\u0027s OK.",
      "parentUuid": "72e8468a_96d3fbd4",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db0bc09d_66f813a0",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-07-19T22:59:02Z",
      "side": 1,
      "message": "This is implementation specific but \nsnprintf(trid.traddr, sizeof(trid.traddr), \"%s\", NULL) writes \"(null)\" to trid.traddr.\n\nI don\u0027t like much about this but all tests have passed and this is safe.",
      "parentUuid": "55cbdab9_f1adaf00",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "510ae1e2_290338d2",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-07-20T18:14:12Z",
      "side": 1,
      "message": "If req.traddr is NULL, the behavior of snprintf is undefined. You should put this within an if (req.traddr) check.",
      "parentUuid": "db0bc09d_66f813a0",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "898438c0_0344da0f",
        "filename": "lib/bdev/nvme/bdev_nvme_rpc.c",
        "patchSetId": 26
      },
      "lineNbr": 217,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-07-23T12:41:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "510ae1e2_290338d2",
      "revId": "a145a6a2c77bb7175b0ba50a414aa41bc46a3fef",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}