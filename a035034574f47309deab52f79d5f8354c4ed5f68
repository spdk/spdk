{
  "comments": [
    {
      "key": {
        "uuid": "ee840a14_cff70b6d",
        "filename": "lib/ftl/ftl_band.h",
        "patchSetId": 5
      },
      "lineNbr": 193,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T12:48:49Z",
      "side": 1,
      "message": "Lets name it num_reloc_lbks - we are using \"lbk\" all over in FTL.",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c2316c2c_e88404b3",
        "filename": "lib/ftl/ftl_band.h",
        "patchSetId": 5
      },
      "lineNbr": 193,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-27T13:32:52Z",
      "side": 1,
      "message": "I think blocks is more readable, I think lbk is directly taken from the OC spec, which we already plan on moving away from (in favor of using the upcoming bdev\u0027s zone-type API).",
      "parentUuid": "ee840a14_cff70b6d",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c80cc68_c6e2b47e",
        "filename": "lib/ftl/ftl_band.h",
        "patchSetId": 5
      },
      "lineNbr": 193,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T14:21:34Z",
      "side": 1,
      "message": "So don\u0027t you think that will be easier if we will keep consitent names until we start moving to ZNS?",
      "parentUuid": "c2316c2c_e88404b3",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74700e4e_23a1ae71",
        "filename": "lib/ftl/ftl_band.h",
        "patchSetId": 5
      },
      "lineNbr": 193,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-28T13:19:19Z",
      "side": 1,
      "message": "I think we could start slowly changing the code to accommodate for that right now. After all, we can\u0027t do that in a single patch.",
      "parentUuid": "7c80cc68_c6e2b47e",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3bafa41_4339be50",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1521,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T12:48:49Z",
      "side": 1,
      "message": "We should call FTL_IO_WEAK something like FTL_IO_RELOC_WRITE and use it to bypass cache and in l2p update.",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2901d43_e33e544b",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1521,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-27T13:32:52Z",
      "side": 1,
      "message": "I don\u0027t think I understand your point. Could you elaborate?",
      "parentUuid": "e3bafa41_4339be50",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96c9c983_12b06e81",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1521,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T14:21:34Z",
      "side": 1,
      "message": "I think that we should merge FTL_IO_WEAK and FTL_IO_BYPASS_CACHE into e. g. FTL_IO_RELOC_WRITE. I think we had already too much flags in our IO struct. Both flags are only valid for reloc writes and we need some extra handling for that - we will not bypassing and set to weak anything else then reloc writes so naming this flag in such way will describe better our intentions in the code.",
      "parentUuid": "a2901d43_e33e544b",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "273f5fa6_93313c07",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1521,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-28T13:19:19Z",
      "side": 1,
      "message": "We might want to merge these in the future, but I think keeping them separate for now should be OK for now, as we have quite enough bits left for the flags. I believe having the flags describe the desired behavior (i.e. weak - less priority over other writes, bypass cache, etc.) is better than grouping them together (reloc - data moved from one place to another). Moreover, there are more requests that we might want to bypass the cache other than those coming from reloc (e.g. padding), so keeping a separate flag for that makes sense.",
      "parentUuid": "96c9c983_12b06e81",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "58ecb858_767c4fb5",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1521,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-28T13:38:34Z",
      "side": 1,
      "message": "If you really want to leave it at least add some comment here that this is case for data from reloc - I don\u0027t think it fits to all FTL_IO_WEAK cases. But I will prefer to merge it and add FTL_IO_BYPASS_CACHE  flag in the future if we have another use case for it.",
      "parentUuid": "273f5fa6_93313c07",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f4430bb_b4a86675",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1522,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T12:48:49Z",
      "side": 1,
      "message": "You could get band from entry.",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77bfe93d_d85bb5c6",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 5
      },
      "lineNbr": 1522,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-27T13:32:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2f4430bb_b4a86675",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6882f3fb_28813264",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 5
      },
      "lineNbr": 408,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-27T12:48:49Z",
      "side": 1,
      "message": "This should be set only for writes in ftl_reloc_write().",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "710d5798_fcf1aa21",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 5
      },
      "lineNbr": 408,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-27T13:32:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6882f3fb_28813264",
      "revId": "a035034574f47309deab52f79d5f8354c4ed5f68",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}