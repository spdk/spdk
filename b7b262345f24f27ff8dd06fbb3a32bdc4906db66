{
  "comments": [
    {
      "key": {
        "uuid": "8d868e6c_bb27b22a",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 42,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-19T21:17:14Z",
      "side": 1,
      "message": "I think it would be better to just expose this in ftl_trace.h.  Then this structure can be embedded directly in other structures, rather than requiring an extra pointer chase.",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "977c4998_e01559e5",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 42,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2018-12-20T12:24:50Z",
      "side": 1,
      "message": "I disagree, the only purpose of this structure is to maintain state internal to the ftl_trace module - no other code should touch it directly. I think hiding structures that don\u0027t need to be exposed helps creating boundaries between the modules and makes the code more readable.",
      "parentUuid": "8d868e6c_bb27b22a",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5bac80a3_144d9944",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 42,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-20T16:21:41Z",
      "side": 1,
      "message": "Hi Konrad,\n\nYes - I understand the concept of encapsulation.  But in this case the only field is a single uint64_t, and hiding it adds an extra pointer chase every time we need to do something with this uint64_t.\n\nAnd even this level of encapsulation is only within files in the same module.  If this was a structure that was exposed through the public ftl API, then keeping this hidden would make more sense.  Since it\u0027s private to this module, I see no problem in putting this in ftl_trace.h.  If this structures needs to be expanded in the future, we could make it hidden then, modify the ftl files that are using it, and it would have no effect on external users of the FTL public API.\n\n-Jim",
      "parentUuid": "977c4998_e01559e5",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eaf75166_dff5457e",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 218,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-19T21:17:14Z",
      "side": 1,
      "message": "function signature doesn\u0027t match header file",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb9cbc7d_9c40e25d",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 218,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2018-12-20T12:24:50Z",
      "side": 1,
      "message": "Are you sure you\u0027re looking at the latest patch set? I don\u0027t see any differences.",
      "parentUuid": "eaf75166_dff5457e",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6cf1ceab_50afe2de",
        "filename": "lib/ftl/ftl_trace.c",
        "patchSetId": 41
      },
      "lineNbr": 218,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-20T16:21:41Z",
      "side": 1,
      "message": "I think I was comparing against a local copy that was from a different version from the patch set.  My bad.",
      "parentUuid": "cb9cbc7d_9c40e25d",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bbe3146_5a1f9e51",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 41
      },
      "lineNbr": 41,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-19T21:17:14Z",
      "side": 1,
      "message": "could we remove this typedef?\n\nwe typically don\u0027t do typedefs like this for basic types unless it\u0027s something we want to make opaque in a public API (i.e. spdk_blob_id)\n\nI\u0027m ok removing it later since it was introduced in an earlier patch - please don\u0027t update earlier patches in this series for this change",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab03e405_5a8d23ef",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 41
      },
      "lineNbr": 41,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2018-12-20T12:24:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2bbe3146_5a1f9e51",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e8c2052_511a2ad7",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 41
      },
      "lineNbr": 81,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-19T21:17:14Z",
      "side": 1,
      "message": "now that tracing is enabled by default, can we remove this ftl_trace macro abstraction?",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21877434_de0a2018",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 41
      },
      "lineNbr": 81,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2018-12-20T12:24:50Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e8c2052_511a2ad7",
      "revId": "b7b262345f24f27ff8dd06fbb3a32bdc4906db66",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}