{
  "comments": [
    {
      "key": {
        "uuid": "9eb99924_27f4aca0",
        "filename": "include/spdk/util.h",
        "patchSetId": 2
      },
      "lineNbr": 54,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-07-06T19:34:48Z",
      "side": 1,
      "message": "can be done in later patch, but you should remove SPDK_BDEV_SEC_TO_USEC and have bdev.c use this one now instead",
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48d46662_b0ef7736",
        "filename": "lib/event/reactor.c",
        "patchSetId": 2
      },
      "lineNbr": 331,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-07-06T19:34:48Z",
      "side": 1,
      "message": "I think this breaks the tsc tracking code that Vishal added.\n\nI\u0027m not sure exactly how we should handle this - maybe longer term the tsc stats stuff should be in the thread, not the reactor?  But for now, I think you need to do:\n\nrc \u003d spdk_thread_poll(thread, 0);\n\nrc is supposed to be 1, 0, or -1 to indicate if the spdk_thread_poll call did real work, didn\u0027t do any real work (i.e. no events and the poller didn\u0027t really do anything, for example the nvme completion queue had no completions), or unknown.",
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bc646b4_2c5444ce",
        "filename": "lib/event/reactor.c",
        "patchSetId": 2
      },
      "lineNbr": 338,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-07-06T19:34:48Z",
      "side": 1,
      "message": "do we still need this for test code I\u0027m guessing?",
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c02fd524_a450cf55",
        "filename": "lib/event/reactor.c",
        "patchSetId": 2
      },
      "lineNbr": 338,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-07-06T20:27:41Z",
      "side": 1,
      "message": "This part is actually much more complex. When setting up the reactors, there are events that we actually want to target at a specific core (not a thread). These events can fire both before and after threads exist at all. So I left in the old event mechanism as a way to handle these. We could probably make the event pool much smaller though.\n\nI think in a future patch, these events will be the mechanism by which threads are passed between reactors too.",
      "parentUuid": "7bc646b4_2c5444ce",
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87f554cb_65e8fdb7",
        "filename": "lib/event/reactor.c",
        "patchSetId": 2
      },
      "lineNbr": 359,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-07-06T19:34:48Z",
      "side": 1,
      "message": "declaration out of place (should be before previous statement)",
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c00286f9_cdbe7ad1",
        "filename": "lib/thread/thread.c",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-07-09T20:53:04Z",
      "side": 1,
      "message": "Super nitpick: maybe _MSG_ rather than _MESSAGE_ for consistency.",
      "range": {
        "startLine": 50,
        "startChar": 12,
        "endLine": 50,
        "endChar": 20
      },
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e481367d_ad5461e9",
        "filename": "lib/thread/thread.c",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-07-09T20:53:04Z",
      "side": 1,
      "message": "I know all of this is just moved from reactor.c, and it\u0027s best to keep the diff small to make review easier, but there\u0027s several comments here that should probably have \u0027reactor\u0027 changed to \u0027thread\u0027.",
      "range": {
        "startLine": 79,
        "startChar": 36,
        "endLine": 79,
        "endChar": 43
      },
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62839183_703e4251",
        "filename": "lib/thread/thread.c",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-07-09T20:53:04Z",
      "side": 1,
      "message": "reactor -\u003e thread?\n\n(More below as well)",
      "range": {
        "startLine": 112,
        "startChar": 46,
        "endLine": 112,
        "endChar": 53
      },
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17ad7414_cd8fc4df",
        "filename": "lib/thread/thread.c",
        "patchSetId": 2
      },
      "lineNbr": 181,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-07-09T20:53:04Z",
      "side": 1,
      "message": "This should probably be SPDK_MAX_MEMZONE_NAME_LEN.",
      "range": {
        "startLine": 181,
        "startChar": 19,
        "endLine": 181,
        "endChar": 21
      },
      "revId": "e52dddc3d45c32c716b374b3d369184490a196d4",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}