{
  "comments": [
    {
      "key": {
        "uuid": "7f32cd20_c6b59d18",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 695,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "Moving this into task_complete may be better.",
      "range": {
        "startLine": 693,
        "startChar": 0,
        "endLine": 695,
        "endChar": 3
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "350a124c_568da6be",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 770,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "submit_io(ns_ctx, queue_depth) is called only once. I don\u0027t think this comment is appropriate.\n\nYou checked if queue_depth is enough before submit_io. Hence ns_ctx-\u003eio_cnt should not become 0 in submit_io?",
      "range": {
        "startLine": 770,
        "startChar": 1,
        "endLine": 770,
        "endChar": 59
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0dbbaf2c_7b7a191d",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 770,
      "author": {
        "id": 1014787
      },
      "writtenOn": "2018-10-08T03:01:58Z",
      "side": 1,
      "message": "queue_depth can \u003e io_cnt",
      "parentUuid": "350a124c_568da6be",
      "range": {
        "startLine": 770,
        "startChar": 1,
        "endLine": 770,
        "endChar": 59
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e878b42f_dc298640",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 770,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-10-09T01:57:26Z",
      "side": 1,
      "message": "OK, thank you.",
      "parentUuid": "0dbbaf2c_7b7a191d",
      "range": {
        "startLine": 770,
        "startChar": 1,
        "endLine": 770,
        "endChar": 59
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1e9f48c_8b35aa46",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 836,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "What you want to do is to ensure ns_ctx-\u003eio_cnt is more than opts.io_queue_requests?\n\nIf so, perf should fail here.",
      "range": {
        "startLine": 833,
        "startChar": 0,
        "endLine": 836,
        "endChar": 3
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3ca52ec_52c4f624",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 836,
      "author": {
        "id": 1014787
      },
      "writtenOn": "2018-10-08T03:01:58Z",
      "side": 1,
      "message": "?? not understand about the comment.\nio_queue_requests is the length of req_buf.",
      "parentUuid": "b1e9f48c_8b35aa46",
      "range": {
        "startLine": 833,
        "startChar": 0,
        "endLine": 836,
        "endChar": 3
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69a0df93_cb8170b5",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 836,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-10-09T01:57:26Z",
      "side": 1,
      "message": "Sorry, I might see wrong.",
      "parentUuid": "e3ca52ec_52c4f624",
      "range": {
        "startLine": 833,
        "startChar": 0,
        "endLine": 836,
        "endChar": 3
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09f37312_9262e7d7",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 885,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "should be tsc_start",
      "range": {
        "startLine": 885,
        "startChar": 11,
        "endLine": 885,
        "endChar": 27
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e266579_4fa1ba09",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 904,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-25T09:43:54Z",
      "side": 1,
      "message": "Looks like there is an issue here for the calculation of done_cnt. As the outer is while(1), when it checks for each ns_ctx, whenever the current ns has no IO allowed to send, it will have the done_cnt increased at line 907. This means the done_cnt will duplicate the same ns_cnt multiple times.\n\nWhat you want here is to count the ns_ctx with zero allowed I/Os one and only once. So that all ns has no I/Os to send, it will break out the while(1).",
      "range": {
        "startLine": 904,
        "startChar": 7,
        "endLine": 904,
        "endChar": 26
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d090268_e284a2c4",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 904,
      "author": {
        "id": 1014787
      },
      "writtenOn": "2018-10-08T03:01:58Z",
      "side": 1,
      "message": "befere the while, done_cnt \u003d 0; see line 902",
      "parentUuid": "2e266579_4fa1ba09",
      "range": {
        "startLine": 904,
        "startChar": 7,
        "endLine": 904,
        "endChar": 26
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "41515d57_aa6303e1",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 907,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "done_ns may be better.",
      "range": {
        "startLine": 907,
        "startChar": 4,
        "endLine": 907,
        "endChar": 12
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdce549d_8f651de5",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 950,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-09-25T05:25:01Z",
      "side": 1,
      "message": "Each namespace stops IO dispatch when it completes the IO count. ?",
      "range": {
        "startLine": 950,
        "startChar": 39,
        "endLine": 950,
        "endChar": 72
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76d929b3_4e5ff82a",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 950,
      "author": {
        "id": 1014787
      },
      "writtenOn": "2018-10-08T03:01:58Z",
      "side": 1,
      "message": "Yes. I really want is just that send a few Reads to check the device healthy.\nHere, it is simpler to dispatch IO_Cnt per NS.",
      "parentUuid": "bdce549d_8f651de5",
      "range": {
        "startLine": 950,
        "startChar": 39,
        "endLine": 950,
        "endChar": 72
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19d7ef0b_f745908a",
        "filename": "examples/nvme/perf/perf.c",
        "patchSetId": 10
      },
      "lineNbr": 1386,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-10-09T01:57:26Z",
      "side": 1,
      "message": "Please use /* */",
      "range": {
        "startLine": 1386,
        "startChar": 2,
        "endLine": 1386,
        "endChar": 3
      },
      "revId": "ed1f0058132050a9550b14258f223b41ed81049a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}