{
  "comments": [
    {
      "key": {
        "uuid": "d82e0023_bda6d3ce",
        "filename": "module/bdev/ocf/vbdev_ocf.c",
        "patchSetId": 3
      },
      "lineNbr": 891,
      "author": {
        "id": 1014935
      },
      "writtenOn": "2019-09-17T21:33:35Z",
      "side": 1,
      "message": "I don\u0027t think we should always handle errors in next step\nHere specifically we can do it in `start_cache_cmpl()`\nOnly the timeout must be handled in next step\n\nAlso, timeout can happen only after we use `vbdev_ocf_mngt_poll()` so we can improve this case by adding a \"handler\" argument to `vbdev_ocf_mngt_poll()`",
      "range": {
        "startLine": 886,
        "startChar": 0,
        "endLine": 891,
        "endChar": 2
      },
      "revId": "944174933f0cb3a78a426283055ba0178c60046a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "792f8cf7_43c46829",
        "filename": "module/bdev/ocf/vbdev_ocf.c",
        "patchSetId": 3
      },
      "lineNbr": 891,
      "author": {
        "id": 1016851
      },
      "writtenOn": "2019-09-19T15:36:55Z",
      "side": 1,
      "message": "Handling errors in next step allow us to cover both cases in one place, I don\u0027t see that we need better granularity (distinguish of timeout or other type of error) of error handling for now.\n\nI really feel that we spending too much time on the interface we are the only users of, and we always call the same sequence to handle error. If we add handler for vbdev_ocf_mngt_poll we need to store it to mngt_ctx, and in consequence take care of proper clearing this handler etc.\n\nOf course, if you think, that it is absolutely necessary, I will rewrite this part.",
      "parentUuid": "d82e0023_bda6d3ce",
      "range": {
        "startLine": 886,
        "startChar": 0,
        "endLine": 891,
        "endChar": 2
      },
      "revId": "944174933f0cb3a78a426283055ba0178c60046a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "21278684_f05725d5",
        "filename": "module/bdev/ocf/vbdev_ocf.c",
        "patchSetId": 3
      },
      "lineNbr": 891,
      "author": {
        "id": 1014935
      },
      "writtenOn": "2019-09-20T13:30:10Z",
      "side": 1,
      "message": "I suggest that not for granularity but for better readability because handling error in next step is much more confusing than right after we get the error. Again, timeout is problematic, we do need to handle it in next step.\n\nI think that separate handler for timeout is worth the code it would add to the interface\n\nAgree that figuring error handling took a lot of time, but moving this code will not take much",
      "parentUuid": "792f8cf7_43c46829",
      "range": {
        "startLine": 886,
        "startChar": 0,
        "endLine": 891,
        "endChar": 2
      },
      "revId": "944174933f0cb3a78a426283055ba0178c60046a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}