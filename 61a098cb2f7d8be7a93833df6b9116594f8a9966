{
  "comments": [
    {
      "key": {
        "uuid": "f5cdac4e_5762248c",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-19T11:28:11Z",
      "side": 1,
      "message": "Couldn\u0027t you calculate this based on LBA map\u0027s lbk offset? Something like this:\nmap_offset \u003d ftl_band_lbkoff_from_ppa(band, ftl_band_lba_map_ppa(band));\npart_offset \u003d ftl_band_lbkoff_from_ppa(band, io-\u003eppa) - map_offset;",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc0396db_27dd300b",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-23T12:31:19Z",
      "side": 1,
      "message": "ftl band_lbkoff_from_ppa calculate offset based on numer of logical blocks in chunk and parallel unit number - here we need to calculate offset based on our write schema.",
      "parentUuid": "f5cdac4e_5762248c",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa17c2c8_76b01004",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-25T09:51:35Z",
      "side": 1,
      "message": "Then we should calculate it in a similar fashion instead of looping through all the lbks checking if PPAs match.",
      "parentUuid": "fc0396db_27dd300b",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "103b0674_0452ad11",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-25T10:43:14Z",
      "side": 1,
      "message": "ftl_band_next_xfer_ppa() it used here for jumping across chunks and taking care of bad ones. I\u0027m not sure if we have easier way to calculate it.",
      "parentUuid": "aa17c2c8_76b01004",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c794cd93_3b2a1635",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-26T06:45:22Z",
      "side": 1,
      "message": "Aren\u0027t we doing exactly that in ftl_band_next_xfer_ppa? We\u0027re not iterating through the band, just the remainder of num_lbks (so at most one full band is iterated through). Can\u0027t we do something similar: ftl_xfer_offset_from_ppa, that would return offset within a band in respecting write manner?",
      "parentUuid": "103b0674_0452ad11",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cdcfdf1_1e2e2c38",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-08T13:55:05Z",
      "side": 1,
      "message": "Iâ€™m calculating block offset from lba_map beginning here based on ppa address of such block - not sure if we need yet another (specialized) function that is doing same thing like ftl_band_next_xfer_ppa",
      "parentUuid": "c794cd93_3b2a1635",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e873db5_31381ec4",
        "filename": "lib/ftl/ftl_band.c",
        "patchSetId": 6
      },
      "lineNbr": 856,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-08T14:10:06Z",
      "side": 1,
      "message": "Having a function doing a reverse translation of another function is much better then having a function that only make sense for one use case. Also iterating through all of the addresses and comparing them to the one you\u0027re looking for is just unnecessarily inefficient.",
      "parentUuid": "9cdcfdf1_1e2e2c38",
      "range": {
        "startLine": 838,
        "startChar": 0,
        "endLine": 856,
        "endChar": 1
      },
      "revId": "61a098cb2f7d8be7a93833df6b9116594f8a9966",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}