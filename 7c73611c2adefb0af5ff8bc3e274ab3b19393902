{
  "comments": [
    {
      "key": {
        "uuid": "8a7a2e0a_bdcd5cc8",
        "filename": "include/spdk/cpuset.h",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "could this be moved to include/spdk/stdinc.h?\nI guess this is fine, but while here - is it pthread_np.h that\u0027s really required here? Could we include  \u003csys/cpuset.h\u003e instead?",
      "range": {
        "startLine": 48,
        "startChar": 0,
        "endLine": 48,
        "endChar": 23
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23792ef0_ec892a5f",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "could you add the license text here?\n\nAlso, does this file need to be in env_dpdk? I cannot see any direct DPDK references here.\n---\nSPDK does not directly depend on DPDK. We have our own abstraction layer for EAL. One EAL implementation makes use of DPDK - and it\u0027s placed in lib/env_dpdk. Currently there are no other supported EAL backends, but  there\u0027s some work going on that already.\n\nSince this file is not DPDK-specific I suggest moving it to lib/util",
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c30ca3f_ae37543d",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "this makes a good call for unit tests, could you add at least some very basic ones?",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 18
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a182fd7e_804916d0",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-12-09T19:26:42Z",
      "side": 1,
      "message": "Maybe better name would be mask_size, sz or cnt?",
      "range": {
        "startLine": 4,
        "startChar": 65,
        "endLine": 4,
        "endChar": 66
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa2e66fb_a777ea75",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 4,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2017-12-12T12:13:30Z",
      "side": 1,
      "message": "binary \u003c-\u003e hex string is nice function! Your algorithm is well considered.\n\nThe following may be simpler but I\u0027m not sure this casting of pointer is allowed. \n\n- Casting the pointer of spdk_cpuset_t to the byte pointer,\n- reading a byte, and then\n- get two hex value by using lower 4 bits and upper 4 bits as index to hex[], respectively",
      "range": {
        "startLine": 4,
        "startChar": 0,
        "endLine": 4,
        "endChar": 18
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fb2387c_2704bfc1",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "could you add brackets for those statements?\nThis will be soon enforced by astyle - https://review.gerrithub.io/c/390914/",
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e77fdbf_1082b811",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2017-12-12T12:13:30Z",
      "side": 1,
      "message": "This function is not strict for performance hence just using SPDK_CPU_SETSIZE as lcore_max may be enough.",
      "range": {
        "startLine": 14,
        "startChar": 1,
        "endLine": 16,
        "endChar": 21
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2677c35_fd9d895d",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-12-09T19:26:42Z",
      "side": 1,
      "message": "can you use toascii() or this is not portable?",
      "range": {
        "startLine": 25,
        "startChar": 10,
        "endLine": 25,
        "endChar": 18
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70598e50_e8eb4c91",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-12-09T19:26:42Z",
      "side": 1,
      "message": "buffer overflow? You are not using \u0027n\u0027 parameter.",
      "range": {
        "startLine": 25,
        "startChar": 3,
        "endLine": 27,
        "endChar": 9
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "309b12fd_10d24c40",
        "filename": "lib/env_dpdk/cpuset.c",
        "patchSetId": 2
      },
      "lineNbr": 91,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-12-09T19:26:42Z",
      "side": 1,
      "message": "I think this need unit tests. At least three cases are not caught here: \"[10--11]\" and \"[,10-11]\" and \"[11-10]\"",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 91,
        "endChar": 23
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ec86172b_4997947a",
        "filename": "lib/env_dpdk/env.c",
        "patchSetId": 2
      },
      "lineNbr": 248,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "is this change intended? I think it should remain as CPU_ZERO as new_cpuset not of spdk_cpuset_t type",
      "range": {
        "startLine": 248,
        "startChar": 1,
        "endLine": 248,
        "endChar": 14
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "988ec236_1c826e1d",
        "filename": "lib/iscsi/portal_grp.c",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-12-09T19:26:42Z",
      "side": 1,
      "message": "You missed one old integer cpumask. You are getting NULL pointer crash from here https://github.com/spdk/spdk/blob/fcccf1676785435b1c8721dc4c8aa0af0e403c2c/lib/iscsi/iscsi_rpc.c#L824 - last parameter is cpumask (integer - zero).",
      "range": {
        "startLine": 69,
        "startChar": 0,
        "endLine": 70,
        "endChar": 1
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e521318d_5ccc007f",
        "filename": "lib/vhost/vhost.c",
        "patchSetId": 2
      },
      "lineNbr": 519,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "this could probably use some define\ne.g. SPDK_CPUSET_STR_MAX_LEN",
      "range": {
        "startLine": 519,
        "startChar": 15,
        "endLine": 519,
        "endChar": 19
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b425c6a_df85f3ed",
        "filename": "test/unit/lib/vhost/vhost.c/vhost_ut.c",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-12-08T17:59:44Z",
      "side": 1,
      "message": "is this declaration required here?",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 44,
        "endChar": 52
      },
      "revId": "7c73611c2adefb0af5ff8bc3e274ab3b19393902",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}