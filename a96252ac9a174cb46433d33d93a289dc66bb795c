{
  "comments": [
    {
      "key": {
        "uuid": "805d32c9_e5965617",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "Perhaps naming this zone_block_get_zone_by_slba would be more descriptive (indicating that you have to pass start LBA of a zone).",
      "range": {
        "startLine": 188,
        "startChar": 23,
        "endLine": 188,
        "endChar": 26
      },
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b5aa6e2_822b4956",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 244,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "Unnecessary newline.",
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb9d386c_1f68e881",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 264,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "Shouldn\u0027t we only allow changes to the zone\u0027s state after setting zone-\u003ebusy \u003d true? Otherwise I think there\u0027s a race between write completion\u0027s state changes and zone state management.",
      "range": {
        "startLine": 264,
        "startChar": 10,
        "endLine": 264,
        "endChar": 30
      },
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97623c65_d0c5b84d",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 440,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "Let\u0027s reverse this, so that we specify the state\u0027s in which we allow the writes to happen.",
      "range": {
        "startLine": 432,
        "startChar": 0,
        "endLine": 440,
        "endChar": 2
      },
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f38d41b_c80bd02e",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 455,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "I think it\u0027d be safer to check:\n\nnum_blocks_left \u003d zone-\u003ezone_info.zone_id + zone-\u003ezone_info.capacity - wp;\nif (len \u003e num_blocks_left) {\n  ...\n}",
      "range": {
        "startLine": 455,
        "startChar": 5,
        "endLine": 455,
        "endChar": 72
      },
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "947863fd_a4bd90e4",
        "filename": "module/bdev/zone_block/vbdev_zone_block.c",
        "patchSetId": 7
      },
      "lineNbr": 462,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-09-18T06:37:40Z",
      "side": 1,
      "message": "zone-\u003ezone_info.state !\u003d SPDK_BDEV_ZONE_STATE_OPEN",
      "range": {
        "startLine": 461,
        "startChar": 5,
        "endLine": 462,
        "endChar": 57
      },
      "revId": "a96252ac9a174cb46433d33d93a289dc66bb795c",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}