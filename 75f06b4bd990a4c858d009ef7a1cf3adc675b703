{
  "comments": [
    {
      "key": {
        "uuid": "d72bfd81_62afd440",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 867,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T16:49:45Z",
      "side": 1,
      "message": "rc can only be -1 here - I think it would be clearer to \u0027return -1\u0027 explicitly.\n\nHowever, since this poller is being updated anyway, we can use the opportunity to update it to \u0027return 0\u0027 in this case, meaning no work was done.",
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de1f2284_44a55636",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 867,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T21:26:39Z",
      "side": 1,
      "message": "Agreed.  This should return 0.",
      "parentUuid": "d72bfd81_62afd440",
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd20a43d_3b73dcaa",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 867,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2018-03-16T23:29:36Z",
      "side": 1,
      "message": "If I read carefully, the following is the expected behavior?\n\nShould this return 0 only once when detecting the number of connections 1 to 0? After that, should this continue returning -1 until the next new change from 1 to 0?",
      "parentUuid": "de1f2284_44a55636",
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51353272_1e3a1ced",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-03-16T14:32:31Z",
      "side": 1,
      "message": "I am not quite sure for the historical reason why \"-1\" is returned here. There seems like some conflict. See line 872, rc \u003c 0 and trace an error. So that my initial change is to make it return 0. Would like to also hear other suggestions. The current change almost same as before based on Shuhei\u0027s comment and the major difference is to return immediately when there is no connection.",
      "range": {
        "startLine": 881,
        "startChar": 8,
        "endLine": 881,
        "endChar": 10
      },
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bdf1d31_953eb569",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-03-16T16:46:57Z",
      "side": 1,
      "message": "This return value is used for the new poller busy detection feature; returning -1 just means that the poller hasn\u0027t been updated to report whether it was busy or not (it\u0027s not an error).",
      "parentUuid": "51353272_1e3a1ced",
      "range": {
        "startLine": 881,
        "startChar": 8,
        "endLine": 881,
        "endChar": 10
      },
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e610f006_48d9bb8a",
        "filename": "lib/iscsi/iscsi_subsystem.c",
        "patchSetId": 2
      },
      "lineNbr": 881,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-03-16T21:24:28Z",
      "side": 1,
      "message": "Agreed.  This should still return -1 for now.",
      "parentUuid": "9bdf1d31_953eb569",
      "range": {
        "startLine": 881,
        "startChar": 8,
        "endLine": 881,
        "endChar": 10
      },
      "revId": "75f06b4bd990a4c858d009ef7a1cf3adc675b703",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}