{
  "comments": [
    {
      "key": {
        "uuid": "6dc094c1_caca124b",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 255,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "this structure is very similar to the detect/create ctx structures\n\njust thinking you should use the same structure for all three; I\u0027m hoping it can reduce code duplication especially on the unload path",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3b9721d_2da4b953",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 255,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6dc094c1_caca124b",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a20d9f98_cd0185c3",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 304,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "we\u0027ve tried to move to a single callback argument as much as possible - could we save the thread in ctx, and just use ctx as the only callback argument?\n\neven better, it might be nice to move this thread logic into spdk_blobfs_fuse_start - probably most callers would want the unmount callback to get called on the same thread that called spdk_blobfs_fuse_start",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd9be925_7fe1b1c3",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 304,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "Considered on it.\nSimplified 2 callback argument to be one by adding loading_thread variable in blobfs_bdev_ctx, and still set it inside blobfs_bdev.c. So that blobfs_fuse can be unawared on it.",
      "parentUuid": "a20d9f98_cd0185c3",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7ca6c78_c4dc86e2",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "should we pass rc (or -rc) instead of -1?",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dd0a883_c5743de3",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 310,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c7ca6c78_c4dc86e2",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "23759a17_41ab9a7c",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "you need to close the descriptor if this create_bs_dev fails",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "771b94e4_245bbca5",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "Oh, I totally missed it. Thank you point it out, Jim.\nAlso applied spdk_bdev_close in previous patches",
      "parentUuid": "23759a17_41ab9a7c",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "214e3131_165fea6f",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 386,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "you need to close the descriptor\n\nalso what happens to the bs_dev?",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7c041f4_ec91dfba",
        "filename": "module/blobfs/bdev/blobfs_bdev.c",
        "patchSetId": 1
      },
      "lineNbr": 386,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "When referencing code in lvol.c, spdk_bs_bdev_claim is called in spdk_fs_load\u0027s cb.\nMaybe here it also should be called in callback.\n\nBut for previous blobfs_bdev_creat (spdk_fs_init), there is block write operation inside spdk_fs_init. So just thought calling spdk_bs_bdev_claim not in callback.",
      "parentUuid": "214e3131_165fea6f",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "338f249d_2189e93e",
        "filename": "module/blobfs/bdev/blobfs_fuse.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-09-25T05:51:22Z",
      "side": 1,
      "message": "unmount_cb?  (instead of umount_cb)",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd010629_9a3c95db",
        "filename": "module/blobfs/bdev/blobfs_fuse.h",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2019-09-25T08:40:58Z",
      "side": 1,
      "message": "Yes, unmount is better than umount.",
      "parentUuid": "338f249d_2189e93e",
      "revId": "62bc1a073415027c4b24cb367d092cd010473c94",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}