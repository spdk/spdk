{
  "comments": [
    {
      "key": {
        "uuid": "ce31f5ec_a03836b2",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2019-07-12T12:05:15Z",
      "side": 1,
      "message": "If the user wants to cross-compile, I think they should set CC, CXX, and LD in their environment and then invoke make.",
      "revId": "85fcc5498ac214e1499ae0977b5ad5b97ab8e8f6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e2f385a4_a5dc889d",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1016759
      },
      "writtenOn": "2019-07-16T08:08:46Z",
      "side": 1,
      "message": "I agree, this is one assumption that can be made, but it disagrees with the way DPDK suggests: https://doc.dpdk.org/guides/linux_gsg/cross_build_dpdk_for_arm64.html They do no explicitly say to set CC/CXX/LD.",
      "parentUuid": "ce31f5ec_a03836b2",
      "revId": "85fcc5498ac214e1499ae0977b5ad5b97ab8e8f6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c740418_2f76c4ce",
        "filename": "Makefile",
        "patchSetId": 3
      },
      "lineNbr": 74,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2019-07-18T14:27:50Z",
      "side": 1,
      "message": "From what I see it\u0027s fairly common to allow the user to specify a \"CROSS_PREFIX\" option. E.g. linux does it.\n\nIf that\u0027s how DPDK works, let\u0027s just do the same. It doesn\u0027t have to be mandatory for cross compilation though.\n\nHow about the following next steps:\n * apply Ben\u0027s patches with TARGET_ARCH first\n * allow setting TARGET_ARCH in configure (./configure --target-arch\u003daarm64)\n * set \"arch\" in the root Makefile upon --target-arch (just like this patch does it for --cross-prefix now)\n * apply this patch adding an optional --cross-prefix setting (./configure --target\u003daarm64 --cross-prefix\u003dmy-arm-toolchain-)\n\nI\u0027m thinking we should set all those compilation options via configure because we already save some of them to cc.flags.mk at that point.",
      "parentUuid": "e2f385a4_a5dc889d",
      "revId": "85fcc5498ac214e1499ae0977b5ad5b97ab8e8f6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e98a2e2_89bb2c8f",
        "filename": "dpdkbuild/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 81,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2019-07-12T12:05:15Z",
      "side": 1,
      "message": "It should be possible to determine that the user is cross compiling just by looking at their $(CC). I think you can compare the output of \u0027uname -m\u0027 to the variable $(TARGET_MACHINE). If they\u0027re the same, they aren\u0027t cross compiling. If they\u0027re different, you should set CROSS.",
      "revId": "85fcc5498ac214e1499ae0977b5ad5b97ab8e8f6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cddf3cf6_d4d2871a",
        "filename": "dpdkbuild/Makefile",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2019-07-12T12:05:15Z",
      "side": 1,
      "message": "I think you can actually get this cross prefix by doing $(shell $(CC) -dumpmachine), assuming the user has set CC correctly. In fact, I think it\u0027s already available as the variable $(TARGET_TRIPLE).",
      "revId": "85fcc5498ac214e1499ae0977b5ad5b97ab8e8f6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}