{
  "comments": [
    {
      "key": {
        "uuid": "615e1a2e_5c25aa3c",
        "filename": "lib/blob/blobstore.c",
        "patchSetId": 8
      },
      "lineNbr": 2734,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-12-11T01:06:55Z",
      "side": 1,
      "message": "do we also need to set blob-\u003eclear_method here?\n\nmaybe I\u0027m missing it, but I don\u0027t see it - in the current code, blob-\u003eclear_method gets set to opts-\u003eclear_method only in the _spdk_bs_open_blob path",
      "revId": "a37da555121aec905a6f62ef6bac378e98e235bd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e966b9e_e0b3a2d2",
        "filename": "lib/blob/blobstore.c",
        "patchSetId": 8
      },
      "lineNbr": 2734,
      "author": {
        "id": 1011289
      },
      "writtenOn": "2019-12-11T17:25:35Z",
      "side": 1,
      "message": "I think you\u0027re right.  Let me spend a little time trying to figure out why I don\u0027t have a UT that would have caught this .",
      "parentUuid": "615e1a2e_5c25aa3c",
      "revId": "a37da555121aec905a6f62ef6bac378e98e235bd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f64b63a0_20985f14",
        "filename": "lib/blob/blobstore.h",
        "patchSetId": 8
      },
      "lineNbr": 280,
      "author": {
        "id": 1011221
      },
      "writtenOn": "2019-11-15T16:10:54Z",
      "side": 1,
      "message": "Not sure that md_ro flags is best place for clear method. As per documentation of descriptor flags below, if md_ro_flags contains flag that application does not know of - blob will only be opened in md_read_only mode. This means that any blob created with this patch, won\u0027t be able to be opened up with SPDK 19.10.\n\nMaybe internal_xattrs might be better place for it, since it solves backwards compatibility issue ?\nOn the other hand.. it complicates _spdk_bs_create_blob() since we already pass entries there.",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 280,
        "endChar": 57
      },
      "revId": "a37da555121aec905a6f62ef6bac378e98e235bd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5eb67d3_b7f1bae1",
        "filename": "lib/blob/blobstore.h",
        "patchSetId": 8
      },
      "lineNbr": 280,
      "author": {
        "id": 1011289
      },
      "writtenOn": "2019-11-15T17:58:43Z",
      "side": 1,
      "message": "Well, that was kind of the point I thought. If you specify a clear method you expect it to be honored and if you roll back to a version that doesn\u0027t support it you expect it to either not load or, as the design is here, load but in MD RO mode.",
      "parentUuid": "f64b63a0_20985f14",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 280,
        "endChar": 57
      },
      "revId": "a37da555121aec905a6f62ef6bac378e98e235bd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7374c8a_f31fb5c2",
        "filename": "lib/blob/blobstore.h",
        "patchSetId": 8
      },
      "lineNbr": 280,
      "author": {
        "id": 1011221
      },
      "writtenOn": "2019-11-15T20:14:06Z",
      "side": 1,
      "message": "Agreed after discussing it. Even tough it was part of blob open previously, was kind of thinking it of not as a new property.\n\nYou are right, it should not work when using older version.",
      "parentUuid": "c5eb67d3_b7f1bae1",
      "range": {
        "startLine": 278,
        "startChar": 0,
        "endLine": 280,
        "endChar": 57
      },
      "revId": "a37da555121aec905a6f62ef6bac378e98e235bd",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}