{
  "comments": [
    {
      "key": {
        "uuid": "c2b8c8cf_2fbeb4e2",
        "filename": "lib/vhost/vhost.c",
        "patchSetId": 1
      },
      "lineNbr": 297,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2018-02-05T08:26:06Z",
      "side": 1,
      "message": "I still don\u0027t understand why you think smp_mb() is needed. In my best knowladge  the vhost is responsible for proper ordering of writes and wmb() and guest is resposnsible for proper ordering of reads and rmb(). This is how the queue model works.",
      "range": {
        "startLine": 296,
        "startChar": 14,
        "endLine": 297,
        "endChar": 56
      },
      "revId": "7965a036f15632a37fc4110d745cecc3aac63997",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1a748ec_4a5975c5",
        "filename": "lib/vhost/vhost.c",
        "patchSetId": 1
      },
      "lineNbr": 301,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2018-02-05T08:26:06Z",
      "side": 1,
      "message": "This might not work as spdk_vhost_dev_used_signal() is not called from destroy_device_poller_cb() so wmb() will not be issued. Also I think call to spm_wmb() better fit into spdk_vhost_vq_used_signal() rather than here.",
      "range": {
        "startLine": 293,
        "startChar": 3,
        "endLine": 301,
        "endChar": 4
      },
      "revId": "7965a036f15632a37fc4110d745cecc3aac63997",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}