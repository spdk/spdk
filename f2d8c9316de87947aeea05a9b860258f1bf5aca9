{
  "comments": [
    {
      "key": {
        "uuid": "51ab56c3_08ea4cbc",
        "filename": "lib/iscsi/init_grp.c",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2019-06-21T08:57:37Z",
      "side": 1,
      "message": "From the functional perspective, this doesn\u0027t make sense.\n\nTAILQ_FOREACH can\u0027t iterate through elements that are not on the list, otherwise it would be completely broken.\n\nI\u0027m guessing the case here is that scan build gets confused by double pointers in tailqs. We should probably fix it (or work around it) on tailq level. Doing workarounds on case-by-case basis in particular modules just bloats the code and will be confusing in future.",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 68,
        "endChar": 52
      },
      "revId": "f2d8c9316de87947aeea05a9b860258f1bf5aca9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8608dbe_ed4dfa24",
        "filename": "lib/iscsi/init_grp.c",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1014536
      },
      "writtenOn": "2019-06-24T02:01:29Z",
      "side": 1,
      "message": "you are right, I found that the compiler was a little crazy, if do var-\u003evalue in this loop whatever is TAILQ_FOREACH or TAILQ_FOREACH_SAFE, \"var-\u003e\" will get warning.\nFeel a little strange, the same warning report, but the similar workaround can not fit other\nerrors.",
      "parentUuid": "51ab56c3_08ea4cbc",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 68,
        "endChar": 52
      },
      "revId": "f2d8c9316de87947aeea05a9b860258f1bf5aca9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35475bce_01d4d238",
        "filename": "lib/iscsi/init_grp.c",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2019-06-24T09:48:12Z",
      "side": 1,
      "message": "Yeah if we can fix the TAILQ macros to make scan-build behave better, we should. It gets very confused.\n\nA simpler fix here may have been this:\n\nTAILQ_FOREACH(iname, \u0026ig-\u003einitiator_head, tailq) {\n    assert(iname !\u003d NULL);\n    if (!strcmp(iname-\u003ename, name)) {\n...\n\n\nWe only run scan-build on debug builds, so the asserts help hint to it.",
      "parentUuid": "f8608dbe_ed4dfa24",
      "range": {
        "startLine": 67,
        "startChar": 0,
        "endLine": 68,
        "endChar": 52
      },
      "revId": "f2d8c9316de87947aeea05a9b860258f1bf5aca9",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}