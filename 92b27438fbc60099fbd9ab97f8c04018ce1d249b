{
  "comments": [
    {
      "key": {
        "uuid": "43ce0c0b_564c062a",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-03T18:36:49Z",
      "side": 1,
      "message": "why isn\u0027t this global?\nhowever, it should probably be possible to call spdk_bdev_module_init_done after the init, then it just won\u0027t do anything\nbdev examine_done() already works this way.",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 21
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb468301_9a950128",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-04T14:01:10Z",
      "side": 1,
      "message": "Can be removed after merging https://review.gerrithub.io/#/c/381254/",
      "parentUuid": "43ce0c0b_564c062a",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 76,
        "endChar": 21
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa1536fc_4fcfaa7b",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-03T18:36:49Z",
      "side": 1,
      "message": "this should probably go to g_virtio_driver",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 34
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9e75cea1_5a2da13c",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 106,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-04T14:01:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "aa1536fc_4fcfaa7b",
      "range": {
        "startLine": 106,
        "startChar": 0,
        "endLine": 106,
        "endChar": 34
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f1c89b8_5887f9f5",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 651,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-03T18:36:49Z",
      "side": 1,
      "message": "what\u0027s that for? seems unnecessary to me.\ncurrently we dont iterate through attached_ctrlrs in any way so the code probably works...",
      "range": {
        "startLine": 651,
        "startChar": 2,
        "endLine": 651,
        "endChar": 67
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f68035ea_bf194ae2",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 651,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-04T14:01:10Z",
      "side": 1,
      "message": "scan_target_finish() need this to work.",
      "parentUuid": "1f1c89b8_5887f9f5",
      "range": {
        "startLine": 651,
        "startChar": 2,
        "endLine": 651,
        "endChar": 67
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d1720f04_bd03489e",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 651,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-04T16:32:26Z",
      "side": 1,
      "message": "what? where?",
      "parentUuid": "f68035ea_bf194ae2",
      "range": {
        "startLine": 651,
        "startChar": 2,
        "endLine": 651,
        "endChar": 67
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "75d4593d_d5f780b0",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 651,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-05T07:38:30Z",
      "side": 1,
      "message": "https://review.gerrithub.io/#/c/381186/1/lib/bdev/virtio/bdev_virtio.c@377",
      "parentUuid": "d1720f04_bd03489e",
      "range": {
        "startLine": 651,
        "startChar": 2,
        "endLine": 651,
        "endChar": 67
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d5a11b_311d4327",
        "filename": "lib/bdev/virtio/bdev_virtio.c",
        "patchSetId": 1
      },
      "lineNbr": 651,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-05T10:19:49Z",
      "side": 1,
      "message": "Line @377 removes an entry frm g_virtio_driver.init_ctrlrs\nvirtio_user_dev_init() already inserts to this list.\nYou\u0027re appending vdev to attached_ctrlrs list. After successful scan_target_finish, you will have two identical\nentries in the list, which will break it...\nPlease remove this line.",
      "parentUuid": "75d4593d_d5f780b0",
      "range": {
        "startLine": 651,
        "startChar": 2,
        "endLine": 651,
        "endChar": 67
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "54089266_526021da",
        "filename": "lib/bdev/virtio/bdev_virtio_rpc.c",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-03T18:36:49Z",
      "side": 1,
      "message": "you can call these directly from spdk_rpc_create_virtio_user_scsi_device",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 76,
        "endChar": 3
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83636adc_882dc251",
        "filename": "lib/bdev/virtio/bdev_virtio_rpc.c",
        "patchSetId": 1
      },
      "lineNbr": 76,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-04T14:01:10Z",
      "side": 1,
      "message": "Nope. Scan is already in progress after spdk_rpc_create_virtio_user_scsi_device() returned.",
      "parentUuid": "54089266_526021da",
      "range": {
        "startLine": 73,
        "startChar": 2,
        "endLine": 76,
        "endChar": 3
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "953d13d4_03a53e03",
        "filename": "lib/bdev/virtio/bdev_virtio_rpc.c",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-03T18:36:49Z",
      "side": 1,
      "message": "if you move the code above (the ones from my previous comment) to the spdk_rpc_create_virtio_user_scsi_device this check won\u0027t be necessary here",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a5bb834_9d9ec9e3",
        "filename": "lib/bdev/virtio/bdev_virtio_rpc.c",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2017-10-04T14:01:10Z",
      "side": 1,
      "message": "Nope, see previous comment.",
      "parentUuid": "953d13d4_03a53e03",
      "range": {
        "startLine": 79,
        "startChar": 1,
        "endLine": 79,
        "endChar": 14
      },
      "revId": "92b27438fbc60099fbd9ab97f8c04018ce1d249b",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}