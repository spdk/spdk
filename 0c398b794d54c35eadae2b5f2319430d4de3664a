{
  "comments": [
    {
      "key": {
        "uuid": "22df1ea4_0242c0a4",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 20
      },
      "lineNbr": 631,
      "author": {
        "id": 1011221
      },
      "writtenOn": "2017-10-25T14:22:21Z",
      "side": 1,
      "message": "\"There\u0027s already an SPDK_BDEV_MODULE_ASYNC_INIT macro that marks the bdev as \"I need async init\". Could we do the same for bdev finish?\nThis would keep the API consistent\"\nI\u0027m not sure I see that the same.\nUnlike init there is dependency that some bdev modules finish in certain order. Even if similar macro would be added to finish (or just marking certain bdev module as async), I don\u0027t think the logic here would be any different.\n\nIf this requires more work to refine, both init and fini to similar API. I could work on it as a separate patch after this one. Darek, would that be fine with you ?",
      "revId": "0c398b794d54c35eadae2b5f2319430d4de3664a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e7246ee_b108baab",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 20
      },
      "lineNbr": 631,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-10-26T12:49:13Z",
      "side": 1,
      "message": "That won\u0027t change any logic, but will let us keep most bdev modules unchanged, significantly reducing the size of this patch.\n\nMy idea was just that modules wouldn\u0027t have to call spdk_bdev_module_finish_done() *by themselves* unless they are marked \"I need async finish\". If they\u0027re synchronous, spdk_bdev_module_finish_done() could be called by the bdev layer, just *after* calling the module_fini.",
      "parentUuid": "22df1ea4_0242c0a4",
      "revId": "0c398b794d54c35eadae2b5f2319430d4de3664a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}