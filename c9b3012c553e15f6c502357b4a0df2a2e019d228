{
  "comments": [
    {
      "key": {
        "uuid": "b46d8693_0e6b7131",
        "filename": "lib/nvmf/fc.c",
        "patchSetId": 35
      },
      "lineNbr": 646,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T08:18:13Z",
      "side": 1,
      "message": "I couldn\u0027t find where this is freed. Should we add hwqps to struct spdk_nvmf_fc_abts_ctx and free it in nvmf_fc_abts_handled_cb?",
      "range": {
        "startLine": 646,
        "startChar": 1,
        "endLine": 646,
        "endChar": 7
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9012a9d_696d2f46",
        "filename": "lib/nvmf/fc.c",
        "patchSetId": 35
      },
      "lineNbr": 1685,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T08:18:13Z",
      "side": 1,
      "message": "this indicates rsp-\u003ecdw0 !\u003d 0?\n\"valid\" is correct?",
      "range": {
        "startLine": 1685,
        "startChar": 35,
        "endLine": 1685,
        "endChar": 62
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b028652c_58ef0514",
        "filename": "lib/nvmf/fc.c",
        "patchSetId": 35
      },
      "lineNbr": 1686,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T08:18:13Z",
      "side": 1,
      "message": "this indicates rsp-\u003ersvd1 !\u003d 0 ?",
      "range": {
        "startLine": 1686,
        "startChar": 4,
        "endLine": 1686,
        "endChar": 22
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35171ea6_ff2de5f3",
        "filename": "lib/nvmf/fc_adm_api/fc_adm_api.c",
        "patchSetId": 35
      },
      "lineNbr": 368,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T08:18:13Z",
      "side": 1,
      "message": "Please insert a line between the line 368 and 369.",
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "838159cc_617b6bd3",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 197,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:48:25Z",
      "side": 1,
      "message": "Can we use spdk_nvmf_fc_lld_release_conn instead?",
      "range": {
        "startLine": 197,
        "startChar": 3,
        "endLine": 197,
        "endChar": 36
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd021d96_a972969f",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 316,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:56:23Z",
      "side": 1,
      "message": "can we factor out to nvmf_fc_add_assoc_to_tgt_port() ? (we have nvmf_fc_del_assoc_from_tgt_port()).",
      "range": {
        "startLine": 313,
        "startChar": 0,
        "endLine": 316,
        "endChar": 0
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62ec2d10_a77f902d",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 887,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:48:25Z",
      "side": 1,
      "message": "Difference between here and the line 888 looks only\n\nFCNVME_RJU_RC_INSUFF_RES or\n\n(ret \u003d\u003d VERR_NO_ASSOC) ? FC_NVME_RJT_RC_INV_ASSOC : ((ret \u003d\u003d -ENOMEM) ? FCNVME_RJT_RC_INSUFF_RES : FCNVME_RJT_RC_LOGIC)\n\nSo can we consolidate two passes?\n\n\tuint8 reason \u003d 0;\n\n\tif (!opd) {\n\t\treason \u003d FCNVME_RJT_RC_INSUFF_RES;\n\t\tgoto rjt;\n\t}\n\n\t(snip)\n\n\tif (ret !\u003d 0) {\n\t\treason \u003d (ret \u003d\u003d VERR_NO_ASSOC) ? FC_NVME_RJT_RC_INV_ASSOC :\n\t\t\t ((ret \u003d\u003d -ENOMEM) ? FCNVME_RJT_RC_INSUFF_RES : FCNVME_RJT_RC_LOGIC);\n\t\tgoto rjt;\n\t}\n\n        (snip)\nrjt:\n\tls_rqst-\u003ersp_len \u003d nvmf_fc_ls_format_rjt(acc,\n\t\t\t   FCNVME_MAX_LS_BUFFER_SIZE,\n\t\t\t   rqst-\u003ew0.ls_cmd,\n\t\t\t   reason,\n\t\t\t   FCNVME_RJT_EXP_NONE, 0);\n\tnvmf_fc_xmt_ls_rsp(tgtport, ls_rqst);",
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33f29499_a8a14a9e",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 905,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T09:07:42Z",
      "side": 1,
      "message": "should we free opd here?",
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2db1e70_14ea9b02",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 1029,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:48:25Z",
      "side": 1,
      "message": "Why can\u0027t we add the instance of struct spdk_nvmf_host to struct spdk_nvmf_fc_association and initialize the instance in nvmf_fc_ls_new_association(). Then can we remove nvmf_fc_ls_dup_host()?",
      "range": {
        "startLine": 1029,
        "startChar": 8,
        "endLine": 1029,
        "endChar": 27
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81f2452a_ee0f3041",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 1050,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-02T09:07:42Z",
      "side": 1,
      "message": "should we free host and host-\u003enqn here?",
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20da619d_1fc63422",
        "filename": "lib/nvmf/fc_ls.c",
        "patchSetId": 35
      },
      "lineNbr": 1050,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:48:25Z",
      "side": 1,
      "message": "Managing host as a malloc\u0027ed instance may be error prone.",
      "parentUuid": "81f2452a_ee0f3041",
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7792c8ce_4b94c40a",
        "filename": "lib/nvmf/nvmf_fc.h",
        "patchSetId": 35
      },
      "lineNbr": 365,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-07-03T06:48:25Z",
      "side": 1,
      "message": "can we change this from pointer to instance?\n\nIf the patch https://review.gerrithub.io/c/spdk/spdk/+/459742 is merged, we will be able to remove malloc for spdk_nvmf_host.",
      "range": {
        "startLine": 365,
        "startChar": 1,
        "endLine": 365,
        "endChar": 28
      },
      "revId": "c9b3012c553e15f6c502357b4a0df2a2e019d228",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}