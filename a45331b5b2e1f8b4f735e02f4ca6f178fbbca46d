{
  "comments": [
    {
      "key": {
        "uuid": "09ea590e_8e1623b1",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 2,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "can you put a Table of Contents in here like Paul had suggested on my earlier rev of this patch?",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1991959a_fefef4c5",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 2,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "I guess I could. There\u0027s already an auto-generated TOC in the left menubar on spdk.io, but Ack, I\u0027ll add it.",
      "parentUuid": "09ea590e_8e1623b1",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "868a74e8_37290405",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 12,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "QEMU doesn\u0027t really offer a vhost application - it just provides the plumbing to connect a VM to a vhost target.\n\nI think you can say SPDK provides an accelerated vhost target through application of the same SPDK userspace polled-mode principles.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "960814e7_1ff641c7",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 12,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "\u003e QEMU doesn\u0027t really offer a vhost application\n\nDoesn\u0027t it?. Apart from connecting to a vhost-scsi kernel target, QEMU can create it\u0027s own target:\n\n```\n-device virtio-scsi-pci,id\u003dvirtioscsi0 # create an empty virtio-scsi PCI controller\n-drive file\u003dtest.img,if\u003dnone,id\u003dvs1,format\u003draw # create a casual drive from test.img file\n-device scsi-hd,bus\u003dvirtioscsi0.0,drive\u003dvs1 # connect the drive to the controller\n```\n\nAnd then there\u0027s vhost-user that we use.\n\n\u003e SPDK provides an accelerated vhost target through application of the same SPDK userspace polled-mode principles.\n\nAck, I\u0027ll include this.",
      "parentUuid": "868a74e8_37290405",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8564cdcc_7883f44e",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "Plus access to NVMe media is also accelerated through use of the NVMe polled mode driver.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b7540f7_7f683e6f",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8564cdcc_7883f44e",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17a85698_592a2147",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 14,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T09:06:12Z",
      "side": 1,
      "message": "I changed this part a bit without adding your NVMe note. \n\n\u003e SPDK provides an accelerated vhost target through application of\n\u003e the same SPDK userspace polled-mode principles. What\u0027s more, its initiators are\n\u003e told not to send any interrupts on I/O submission, meaning [...]\n\nPlease check if it\u0027s ok.",
      "parentUuid": "4b7540f7_7f683e6f",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b73f9ef_acd65b1c",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 36,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2018-01-11T16:18:57Z",
      "side": 1,
      "message": "Hmmm... I don\u0027t like this picture but from other side I don\u0027t know how this picture should look like for describing VM\u003c-\u003evhost\u003c-\u003eNVMe relationship.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 36,
        "endChar": 81
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f025541_2a58f3cc",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 36,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-11T18:20:04Z",
      "side": 1,
      "message": "I don\u0027t like it either. If anyone has a better vision, please share it.",
      "parentUuid": "7b73f9ef_acd65b1c",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 36,
        "endChar": 81
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "943b5ad1_df1c510a",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 36,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "I think the diagram is OK.  I don\u0027t think QEMU-VM should be shown doing DMA to shared memory though - only the NVMe disk is doing that.  I think QEMU-VM should be shown modifying virtqueues though.",
      "parentUuid": "5f025541_2a58f3cc",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 36,
        "endChar": 81
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50cba61d_578c4cdf",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 36,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T09:06:12Z",
      "side": 1,
      "message": "I removed QEMU DMA for now. \nHow about renaming \"Shared hugepage memory\" to \"Virtqueues in shared hugepage memory\"?",
      "parentUuid": "943b5ad1_df1c510a",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 36,
        "endChar": 81
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ca8e898_0a1bef51",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 50,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2018-01-11T23:44:07Z",
      "side": 1,
      "message": "Also Fedora 26 now.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c947330f_62cf6214",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 50,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "9ca8e898_0a1bef51",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "444e7fca_41fe45f7",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 71,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "should we add something here on how to confirm QEMU support vhost-blk?  similar to the vhost-user-scsi-pci,help example above?",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05980d56_54c95531",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 71,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "We could. Ack",
      "parentUuid": "444e7fca_41fe45f7",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17ec2a24_ae6b7910",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2018-01-11T16:18:57Z",
      "side": 1,
      "message": "Can you place output or at least mention \u0027-h\u0027 option so the user can find out which parameter is responsible for setting sockets directory (and other options).\n\nSomething like \"Please check app/vhost/vhost -h for all available options.\" might be sufficient.",
      "range": {
        "startLine": 84,
        "startChar": 74,
        "endLine": 84,
        "endChar": 82
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c794a598_85572365",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 84,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-11T18:20:04Z",
      "side": 1,
      "message": "Ack, good idea",
      "parentUuid": "17ec2a24_ae6b7910",
      "range": {
        "startLine": 84,
        "startChar": 74,
        "endLine": 84,
        "endChar": 82
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab579969_195eed34",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 122,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "took \u003d\u003e taken",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba9448df_a1c80aa5",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 122,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ab579969_195eed34",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "490b2313_140e2c07",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 132,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "Maybe add something like:\n\n\"Additional LUNs can be added by specifying a different target ID.\"",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6b0b689_cf721395",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 132,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "490b2313_140e2c07",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be813b0c_cc268092",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 144,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "Maybe clarify here \"if your QEMU supports vhost-blk\".\n\nIt\u0027s possible I\u0027m being overly pedantic - but I\u0027m guessing some people will want to just use an existing QEMU that has vhost-scsi support without rebuilding our QEMU for vhost-blk support.\n\nOr I guess you really don\u0027t need to specify this here - the important part if further below where we start QEMU with a vhost-blk device.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ccb6dcf_f90ea864",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 144,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "be813b0c_cc268092",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c29fcf12_602ae8a4",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 173,
      "author": {
        "id": 1011230
      },
      "writtenOn": "2018-01-11T16:18:57Z",
      "side": 1,
      "message": "Isn\u0027t \u0027prealloc\u003dyes\u0027 quite important here?",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 75
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd87f809_64c36300",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 211,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "I would suggest dropping the socket stuff from this section just to keep it simpler.  Primary goal is to help the reader just get it up and working to start.  The CPU socket stuff would be great to add as a section at the end of the users guide though.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fb2bf4d_4fb05e24",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 211,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bd87f809_64c36300",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bee6f5b_c7418c52",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 230,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2018-01-11T23:44:07Z",
      "side": 1,
      "message": "You should include -S /var/tmp to be consistent with the below Qemu command.",
      "range": {
        "startLine": 230,
        "startChar": 26,
        "endLine": 230,
        "endChar": 27
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43459c5a_40d9cc42",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 230,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "4bee6f5b_c7418c52",
      "range": {
        "startLine": 230,
        "startChar": 26,
        "endLine": 230,
        "endChar": 27
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6fcc0283_f19e61c7",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 262,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2018-01-11T23:44:07Z",
      "side": 1,
      "message": "Should this be Nvme0n1? When I was running this on my machine, it only worked if I specified the namespace as well as the drive.",
      "range": {
        "startLine": 262,
        "startChar": 54,
        "endLine": 262,
        "endChar": 59
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "429c57ac_a6793c76",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 262,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-01-12T07:16:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6fcc0283_f19e61c7",
      "range": {
        "startLine": 262,
        "startChar": 54,
        "endLine": 262,
        "endChar": 59
      },
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8b575c7c_51434004",
        "filename": "doc/vhost.md",
        "patchSetId": 9
      },
      "lineNbr": 303,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-01-11T23:03:15Z",
      "side": 1,
      "message": "Completely separate comment - we should change the VENDOR to SPDK instead of INTEL.  But we\u0027ll do that later.",
      "revId": "a45331b5b2e1f8b4f735e02f4ca6f178fbbca46d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}