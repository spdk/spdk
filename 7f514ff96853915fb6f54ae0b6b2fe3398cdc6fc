{
  "comments": [
    {
      "key": {
        "uuid": "40e1ca6b_4ab6bd34",
        "filename": "lib/ftl/ftl_io.c",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Free stuff where they\u0027re allocated. Since this isn\u0027t allocated here remove this.",
      "range": {
        "startLine": 313,
        "startChar": 0,
        "endLine": 315,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c04888f0_2dc50045",
        "filename": "lib/ftl/ftl_io.c",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "I\u0027ve moved lba.vector allocation to ftl_io",
      "parentUuid": "40e1ca6b_4ab6bd34",
      "range": {
        "startLine": 313,
        "startChar": 0,
        "endLine": 315,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f782da0d_1a3a4fba",
        "filename": "lib/ftl/ftl_io.c",
        "patchSetId": 4
      },
      "lineNbr": 315,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-21T14:08:32Z",
      "side": 1,
      "message": "Makes sense.",
      "parentUuid": "c04888f0_2dc50045",
      "range": {
        "startLine": 313,
        "startChar": 0,
        "endLine": 315,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f4b5b83_e195cae2",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Just move the ftl_reloc_fn typedef below the structure declaration. Or better yet, move it to the place it\u0027s needed.",
      "range": {
        "startLine": 49,
        "startChar": 7,
        "endLine": 49,
        "endChar": 21
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7bf19df_ceceb577",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 49,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5f4b5b83_e195cae2",
      "range": {
        "startLine": 49,
        "startChar": 7,
        "endLine": 49,
        "endChar": 21
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f090a311_f3cef0e2",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "I think keeping track of the ftl_io associated with the move makes sense. I\u0027d set it for all of the IOs.",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 67,
        "endChar": 59
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e10c3c8e_390255d9",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 67,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f090a311_f3cef0e2",
      "range": {
        "startLine": 66,
        "startChar": 0,
        "endLine": 67,
        "endChar": 59
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f208901_791c9073",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "This shouldn\u0027t be here. Or at least this array should not be allocated for each of the band_relocs, only for the active ones.",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "773fe990_c52c92bd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "I think whole breloc should be allocated/free when it goes to active/free state - I will make separate patch for this.",
      "parentUuid": "7f208901_791c9073",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6d4f1b8_151a8e35",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "Then please make this change and rebase this patch on top of it.",
      "parentUuid": "773fe990_c52c92bd",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "045264ae_1cd9b536",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 96,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f6d4f1b8_151a8e35",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ecdcefb8_dc218ed6",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "What the point in passing ftl_reloc_move here? ftl_reloc_read_lba_map_cb only uses it to retrieve breloc - pass it.",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "91bce7c1_6a6071aa",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "This move will be needed when we start reading partially lba_map.",
      "parentUuid": "ecdcefb8_dc218ed6",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97a91b9a_57e955ea",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "Then make change it once it\u0027s needed. Right now it\u0027s only making the code less readable.",
      "parentUuid": "91bce7c1_6a6071aa",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ebcc0af_77673cf6",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "I want to operate on move object as context of each callback in reloc module. I don\u0027t think is less readable.",
      "parentUuid": "97a91b9a_57e955ea",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c60d087c_e25578a4",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T14:53:28Z",
      "side": 1,
      "message": "Operate on the thing that makes the most sense. There\u0027s no point in passing a structure to a callback just to retrieve one variable from that.",
      "parentUuid": "2ebcc0af_77673cf6",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "06fc577f_1c7b82f9",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-21T06:47:46Z",
      "side": 1,
      "message": "This patch series was created to add partial lba map reading capabilities to reloc module. Next patch in this series are using this move object so I really don\u0027t see your point here.",
      "parentUuid": "c60d087c_e25578a4",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a1c0714_141fd0cd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-21T14:08:32Z",
      "side": 1,
      "message": "My point is to make each individual patch making sense. In my opinion it\u0027s better to change one thing in the very next patch, if it\u0027s needed there. This approach makes sure we avoid some weird leftovers in the code produced by the fact that the conception changed between the two patches, but the code was left as it is (e.g. you don\u0027t really need to pass the move here, but the code will stay like that for a long time).",
      "parentUuid": "06fc577f_1c7b82f9",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f863965_f3ed3c12",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-22T07:04:02Z",
      "side": 1,
      "message": "No, I disagree. This patch intention is replacing ftl_io struct by ftl_move internal reloc struct. I don\u0027t want to introduce unnecessary logical changes here. Firstly in whole FTL code we are operating on ftl_io struct during completion callbacks and it was same here before my changes. Passing move object to each completion callback in reloc module make sense to keep those interfaces consistent. I also initialize move object here with breloc field so it completely make sense to pass it to future processing instead breloc object. Next patch is using move object in completion callback and this patch is only preparation for this.",
      "parentUuid": "1a1c0714_141fd0cd",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15ee8c52_2bf417e5",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-22T13:40:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0f863965_f3ed3c12",
      "range": {
        "startLine": 195,
        "startChar": 0,
        "endLine": 195,
        "endChar": 49
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "83a1f376_46da30d0",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "It\u0027s a static function, do we ever call this with move \u003d\u003d NULL?",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bd4e865_514af2b4",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "scan-build had problem with this",
      "parentUuid": "83a1f376_46da30d0",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c909010_4d1ed423",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "Then perhaps an assertion would be a better fit here?",
      "parentUuid": "7bd4e865_514af2b4",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4004ccb_1d241ae0",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "assert won\u0027t work in non debug build",
      "parentUuid": "0c909010_4d1ed423",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "894c487d_6078ebce",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T14:53:28Z",
      "side": 1,
      "message": "That is the point. There\u0027s no way this will be called with move \u003d\u003d NULL, so let\u0027s just add an assert to keep scan-build happy and not add unnecessary stuff to release configuration.",
      "parentUuid": "b4004ccb_1d241ae0",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2a4b095_876c4c65",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-21T06:47:46Z",
      "side": 1,
      "message": "There won\u0027t be assert in release config - scan-build willl complain.",
      "parentUuid": "894c487d_6078ebce",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8c083ac_d5341719",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-21T14:08:32Z",
      "side": 1,
      "message": "I\u0027ve seen a lot of scan-build fixes that were just adding asserts (e.g. 26683005dd6aabf5a67c41d167e6109e5b8ae4e0, 04ce0e12544d6f8f1298c6cb7bb3eb335b70f4e9, etc.), so I think assert should be fine.",
      "parentUuid": "a2a4b095_876c4c65",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "928770a1_3beefccd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-22T07:04:02Z",
      "side": 1,
      "message": "So please try to build this code with scan-build without debug enabled.",
      "parentUuid": "e8c083ac_d5341719",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c48bb9d_035236f0",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-22T13:40:06Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s a valid configuration that we should worry about. scan-build run by autotest.sh runs only on debug configuration.",
      "parentUuid": "928770a1_3beefccd",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea3a8c56_e6547b33",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-22T14:11:55Z",
      "side": 1,
      "message": "I prefer to have working scan build on release config.",
      "parentUuid": "2c48bb9d_035236f0",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a0392b2_e5f4f31c",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-23T06:27:09Z",
      "side": 1,
      "message": "I don\u0027t think it\u0027s a matter of preference. If SPDK chooses to run scan-build on debug config, then libftl should do the same. And adding code to release configuration only because scan-build complains about some false positive certainly doesn\u0027t seem like a good idea.",
      "parentUuid": "ea3a8c56_e6547b33",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69b6db05_239334bc",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 232,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-24T12:17:01Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6a0392b2_e5f4f31c",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 232,
        "endChar": 2
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7de5d83d_a3335ebf",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 430,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "I think we should change ftl_io_init_opts to be able to pass this instead of setting it here.",
      "range": {
        "startLine": 430,
        "startChar": 2,
        "endLine": 430,
        "endChar": 16
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1285d4e5_bb6094f5",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 430,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7de5d83d_a3335ebf",
      "range": {
        "startLine": 430,
        "startChar": 2,
        "endLine": 430,
        "endChar": 16
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75508c1b_c14c1f88",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Let\u0027s try to free this in the place it\u0027s allocated.",
      "range": {
        "startLine": 433,
        "startChar": 3,
        "endLine": 433,
        "endChar": 28
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef11d941_f142e453",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75508c1b_c14c1f88",
      "range": {
        "startLine": 433,
        "startChar": 3,
        "endLine": 433,
        "endChar": 28
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0b65d31_1a988fc5",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 438,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Why not just do ppa.lbk++ as part of the loop?",
      "range": {
        "startLine": 438,
        "startChar": 0,
        "endLine": 438,
        "endChar": 29
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0dddd5c_389a85c2",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 438,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0b65d31_1a988fc5",
      "range": {
        "startLine": 438,
        "startChar": 0,
        "endLine": 438,
        "endChar": 29
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e84baafe_c54b12bd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 456,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T14:53:28Z",
      "side": 1,
      "message": "There\u0027s a lot of move-\u003eio references here. I think keeping this variable would make the code more readable.",
      "range": {
        "startLine": 455,
        "startChar": 1,
        "endLine": 456,
        "endChar": 19
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7ed6349d_8c79d57f",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 456,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-21T06:47:46Z",
      "side": 1,
      "message": "I\u0027ve removed some move-\u003eio references here.",
      "parentUuid": "e84baafe_c54b12bd",
      "range": {
        "startLine": 455,
        "startChar": 1,
        "endLine": 456,
        "endChar": 19
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5232c6b_5033248b",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 456,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-22T13:40:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7ed6349d_8c79d57f",
      "range": {
        "startLine": 455,
        "startChar": 1,
        "endLine": 456,
        "endChar": 19
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c44d804_4d950d6a",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 462,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "You\u0027re not checking the result of the ftl_reloc_io_init.",
      "range": {
        "startLine": 462,
        "startChar": 2,
        "endLine": 462,
        "endChar": 4
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdd2ce8b_55d216e8",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 462,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c44d804_4d950d6a",
      "range": {
        "startLine": 462,
        "startChar": 2,
        "endLine": 462,
        "endChar": 4
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad3f017e_d3ffc5f7",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 465,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Let\u0027s just get rid of this \u0027io\u0027 variable and just set move-\u003eio here:\n\nif (spdk_likely(move-\u003eio \u003d\u003d NULL)) {\n  move-\u003eio \u003d ftl_reloc_io_init();\n}",
      "range": {
        "startLine": 459,
        "startChar": 0,
        "endLine": 465,
        "endChar": 0
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "950a8670_72d965bf",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 465,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad3f017e_d3ffc5f7",
      "range": {
        "startLine": 459,
        "startChar": 0,
        "endLine": 465,
        "endChar": 0
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "868ca263_741d7b38",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 480,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "No point in initializing this.",
      "range": {
        "startLine": 480,
        "startChar": 18,
        "endLine": 480,
        "endChar": 25
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c87624b_42704b5e",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 480,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "scan-build issue",
      "parentUuid": "868ca263_741d7b38",
      "range": {
        "startLine": 480,
        "startChar": 18,
        "endLine": 480,
        "endChar": 25
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25bb8eac_8987c3fb",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 480,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "Are you sure? AFAIK scan-build never complained about stuff like this - there\u0027s tons of places we don\u0027t initialize pointers in the declarations... Not sure why this would be a problem.",
      "parentUuid": "8c87624b_42704b5e",
      "range": {
        "startLine": 480,
        "startChar": 18,
        "endLine": 480,
        "endChar": 25
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02abb69e_7bfcff10",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 480,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "I\u0027ve removed this variable.",
      "parentUuid": "25bb8eac_8987c3fb",
      "range": {
        "startLine": 480,
        "startChar": 18,
        "endLine": 480,
        "endChar": 25
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2336cd32_184a4aeb",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 480,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-21T14:08:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "02abb69e_7bfcff10",
      "range": {
        "startLine": 480,
        "startChar": 18,
        "endLine": 480,
        "endChar": 25
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8e901d5_e6f9e9f6",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 499,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Shouldn\u0027t you release move-\u003edata here?",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a4e356d_b13b20c9",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 499,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8e901d5_e6f9e9f6",
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e244f93_874eccd7",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "What is the point of this? It\u0027s called by ftl_reloc_release, when band relocation is completed. However, ftl_reloc_prep does the opposite - it enqueues all of the IOs onto the free_queue. We should leave free_queue as it is here.",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28ddbe73_74b8e87f",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "We need to drain free queue - when reloc starts it expect that free queue is empty. I\u0027ve change this logic in next commit.",
      "parentUuid": "8e244f93_874eccd7",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6af90057_92cbd575",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "Then perhaps it\u0027d make sense to swap those patches and make this change before this one.",
      "parentUuid": "28ddbe73_74b8e87f",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3ad3a1d_bffd1f50",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "No, I need this patch in first place.",
      "parentUuid": "6af90057_92cbd575",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "593738fa_445ef295",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T14:53:28Z",
      "side": 1,
      "message": "I don\u0027t see how that is the case. I think it should definitely be possible to change this behavior before this patch.",
      "parentUuid": "a3ad3a1d_bffd1f50",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e3fd9d7b_dd105720",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-21T06:47:46Z",
      "side": 1,
      "message": "Intetion of this patch is replacing ftl_io by ftl_move internal relocation structure. This change is needed then to refactor reloc logic so this patch is need to be add in first place.",
      "parentUuid": "593738fa_445ef295",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a000fba0_958100b6",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 550,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-21T14:08:32Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e3fd9d7b_dd105720",
      "range": {
        "startLine": 550,
        "startChar": 0,
        "endLine": 550,
        "endChar": 23
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da46e7b7_0f14ad5c",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 656,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-14T13:29:30Z",
      "side": 1,
      "message": "Aren\u0027t the ftl_reloc_move kept on the free_queue by the time we reach this?",
      "range": {
        "startLine": 656,
        "startChar": 0,
        "endLine": 656,
        "endChar": 89
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39dcbf32_7c50bf3c",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 656,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T09:50:44Z",
      "side": 1,
      "message": "We need to drain write queue during shutdown to avoid memleaks.",
      "parentUuid": "da46e7b7_0f14ad5c",
      "range": {
        "startLine": 656,
        "startChar": 0,
        "endLine": 656,
        "endChar": 89
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e796120_61e386f0",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 656,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-20T12:49:05Z",
      "side": 1,
      "message": "So this can only happen when we\u0027re shutting off? Otherwise this queue should be empty? If so, please add a comment explaining this (an assertion would also be nice here).",
      "parentUuid": "39dcbf32_7c50bf3c",
      "range": {
        "startLine": 656,
        "startChar": 0,
        "endLine": 656,
        "endChar": 89
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6a79f8d_ae656a47",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 656,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-05-20T13:27:37Z",
      "side": 1,
      "message": "I can add some comment here.",
      "parentUuid": "2e796120_61e386f0",
      "range": {
        "startLine": 656,
        "startChar": 0,
        "endLine": 656,
        "endChar": 89
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fba0e159_4ed98041",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 4
      },
      "lineNbr": 656,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-05-22T13:40:06Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f6a79f8d_ae656a47",
      "range": {
        "startLine": 656,
        "startChar": 0,
        "endLine": 656,
        "endChar": 89
      },
      "revId": "7f514ff96853915fb6f54ae0b6b2fe3398cdc6fc",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}