{
  "comments": [
    {
      "key": {
        "uuid": "405f0980_379ac085",
        "filename": "lib/nvme/nvme_rdma.c",
        "patchSetId": 1
      },
      "lineNbr": 760,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-11-07T17:29:22Z",
      "side": 1,
      "message": "On this line, we create a new RDMA CM event channel for each queue pair. Unfortunately, it\u0027s too expensive to poll for CM events every time we reap completions. Instead, we need to create an RDMA CM channel for the entire controller and share it between all qpairs on that controller. Then, we can poll that one shared channel any time the admin queue is polled.\n\nThis gets complicated quickly.",
      "revId": "1437147e30ebb44b07e18e380fd5921e2e83f6a2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eb6b87cf_40858a32",
        "filename": "lib/nvme/nvme_rdma.c",
        "patchSetId": 1
      },
      "lineNbr": 760,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-11-09T10:42:59Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "405f0980_379ac085",
      "revId": "1437147e30ebb44b07e18e380fd5921e2e83f6a2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64127743_17a6676a",
        "filename": "lib/nvme/nvme_rdma.c",
        "patchSetId": 1
      },
      "lineNbr": 760,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-11-09T13:20:07Z",
      "side": 1,
      "message": "I need a clarification: do we want to create one _additional_ cm channel for that purpose, or we want to create one channel for all qpairs _instead_of_ all channels that we create right now?",
      "parentUuid": "eb6b87cf_40858a32",
      "revId": "1437147e30ebb44b07e18e380fd5921e2e83f6a2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63794f01_1fcb0d6b",
        "filename": "lib/nvme/nvme_rdma.c",
        "patchSetId": 1
      },
      "lineNbr": 1742,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-11-07T17:29:22Z",
      "side": 1,
      "message": "You only want to do this for the admin queue - it\u0027s too big of a performance hit otherwise.",
      "revId": "1437147e30ebb44b07e18e380fd5921e2e83f6a2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c63bf914_8196c56f",
        "filename": "lib/nvme/nvme_rdma.c",
        "patchSetId": 1
      },
      "lineNbr": 1742,
      "author": {
        "id": 1011262
      },
      "writtenOn": "2018-11-09T10:42:59Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "63794f01_1fcb0d6b",
      "revId": "1437147e30ebb44b07e18e380fd5921e2e83f6a2",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}