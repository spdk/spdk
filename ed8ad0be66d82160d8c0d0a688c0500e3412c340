{
  "comments": [
    {
      "key": {
        "uuid": "3eb21f92_f1889ac5",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 17
      },
      "lineNbr": 4133,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-07T21:40:06Z",
      "side": 1,
      "message": "similar to below - I think you want to set this to false before starting the for_each process - otherwise channels that get created after the for_each has started will still allocate a histogram",
      "revId": "ed8ad0be66d82160d8c0d0a688c0500e3412c340",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43b0e397_a327e760",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 17
      },
      "lineNbr": 4161,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-07T21:40:06Z",
      "side": 1,
      "message": "don\u0027t we need to set this to true before we start the spdk_for_each_channel?  otherwise a channel could get created after the for_each process started, and it wouldn\u0027t get a histogram allocated - then later when we try to capture data, we\u0027ll get an error since the channel has no histogram",
      "revId": "ed8ad0be66d82160d8c0d0a688c0500e3412c340",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6ef7adf_5eb441ed",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 17
      },
      "lineNbr": 4200,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-07T21:40:06Z",
      "side": 1,
      "message": "should we be worried about multiple overlapping calls to this function?\n\nsee bdev-\u003einternal.qos_mod_in_progress - I think we need something similar here for histograms - if a user tries to call this function while a previous one is already in progress, fail the call with status -EAGAIN (probably -EBUSY would have been better to use for QoS but let\u0027s keep them consistent)",
      "revId": "ed8ad0be66d82160d8c0d0a688c0500e3412c340",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac3b9feb_bff7182e",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 17
      },
      "lineNbr": 4261,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2019-01-07T21:40:06Z",
      "side": 1,
      "message": "could we have the caller pass in the histogram?  then the user is responsible for both allocating and freeing the histogram - it also would allow future enhancements like putting the histogram in shared memory like we\u0027ve talked about in some of our 1x1s",
      "revId": "ed8ad0be66d82160d8c0d0a688c0500e3412c340",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}