{
  "comments": [
    {
      "key": {
        "uuid": "7d0220ff_4b52b3a3",
        "filename": "include/spdk/nvmf.h",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-07-18T01:36:25Z",
      "side": 1,
      "message": "Rather than changing the public API function, can we just move the declaration of g_spdk_nvmf_tgt_conf to nvmf_internal.h. That way we avoid breaking other people\u0027s implementations if they happen to be using something other than the stock target application.\n\nIf there is a strong reason that it needs to be this way, and we end up deciding to change the public API then there will definitely need to be a changelog entry.",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27aa7553_0af7f8c5",
        "filename": "include/spdk/nvmf.h",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1016482
      },
      "writtenOn": "2019-07-18T08:03:34Z",
      "side": 1,
      "message": "Thanks for the comment. If I understand you correctly then we can\u0027t declare g_spdk_nvmf_tgt_conf as an extern symbol in nvmf_internal.h and use it in nvmf.c since the definition of g_spdk_nvmf_tgt_conf is in conf.c which which links in the different library (event_nvmf), so the suggested approach leads to undefined reference\nTo keep backward compatibility in the public API we can add a new function like spdk_nvmf_tgt_add_conf. But this approach will increase the complexity of the code since it will be necessary to check that the configuration was applied to the target before using it. What do you think about it?",
      "parentUuid": "7d0220ff_4b52b3a3",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "006f3967_62fcce80",
        "filename": "include/spdk/nvmf.h",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1016482
      },
      "writtenOn": "2019-08-02T05:10:30Z",
      "side": 1,
      "message": "Hi Seth,\n\nCould you please comment on the above? Maybe you already looked at the next change which may cause more questions? In the next change I moved poll_group management logic from nvmf_tgt.c to nvmf.c since it seemed for me that it was redundant to be used in nvmf target. Also since all poll_groups are kept in target, we can\u0027t access them easy from RDMA transport to select one.",
      "parentUuid": "27aa7553_0af7f8c5",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "077f160b_f067ab0c",
        "filename": "include/spdk/nvmf.h",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-08-14T13:46:13Z",
      "side": 1,
      "message": "Hi Alexey,\n\nYou are right, sorry about the bad suggestion. The API change was the only real hangup I had. I will +1 once you add a changelog entry for the change.\nIn regards to the next couple of changes. I think they are the right thing to do within the context of the interface we have for this feature.\n\nThanks,\n\nSeth",
      "parentUuid": "006f3967_62fcce80",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e248e12b_d8170e5f",
        "filename": "lib/event/subsystems/nvmf/nvmf_rpc.c",
        "patchSetId": 2
      },
      "lineNbr": 1345,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-07-18T01:36:25Z",
      "side": 1,
      "message": "Probably better worded as \"Invalid value supplied for conn_sched. Please provide one of:\\n\" then the options listed as you have them.",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a24c295_5ec5d1f8",
        "filename": "lib/nvmf/nvmf_internal.h",
        "patchSetId": 2
      },
      "lineNbr": 90,
      "author": {
        "id": 1011223
      },
      "writtenOn": "2019-07-18T01:36:25Z",
      "side": 1,
      "message": "Please line up the variable name with the rest in the structure.",
      "revId": "a6865da31f17d15aeb3d0123240582f7c1c58245",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}