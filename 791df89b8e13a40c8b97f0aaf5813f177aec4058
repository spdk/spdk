{
  "comments": [
    {
      "key": {
        "uuid": "91c47348_cea58da5",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 146,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-11T07:49:14Z",
      "side": 1,
      "message": "It\u0027d be nice to add a little more context - why do we need to protect these things, what threads are trying to access these structures.",
      "range": {
        "startLine": 146,
        "startChar": 4,
        "endLine": 146,
        "endChar": 64
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0d1c3fe_f83fe9e9",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 146,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-11T08:34:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91c47348_cea58da5",
      "range": {
        "startLine": 146,
        "startChar": 4,
        "endLine": 146,
        "endChar": 64
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ef86ea6_6585773f",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 337,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-07T14:01:51Z",
      "side": 1,
      "message": "Let\u0027s just use additional rc variable to store the return code and unlock in one place.",
      "range": {
        "startLine": 336,
        "startChar": 0,
        "endLine": 337,
        "endChar": 11
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84bd504d_31b9eb45",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 337,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-10T07:41:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ef86ea6_6585773f",
      "range": {
        "startLine": 336,
        "startChar": 0,
        "endLine": 337,
        "endChar": 11
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "60b1a974_0b4b2e02",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 569,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-07T14:01:51Z",
      "side": 1,
      "message": "If we\u0027re protecting pending_queue + reloc_map, shouldn\u0027t the lock only protect this line?",
      "range": {
        "startLine": 569,
        "startChar": 2,
        "endLine": 569,
        "endChar": 58
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90aaba19_408e634c",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 569,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-10T07:41:40Z",
      "side": 1,
      "message": "Pending and active flag need to be changed under the lock.",
      "parentUuid": "60b1a974_0b4b2e02",
      "range": {
        "startLine": 569,
        "startChar": 2,
        "endLine": 569,
        "endChar": 58
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24d9ce1d_faee5cfd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 569,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-11T07:49:14Z",
      "side": 1,
      "message": "Then 1) the comment explaining what the lock is protecting is wrong and 2) the breloc-\u003eactive is used without a lock on lines 771-772.",
      "parentUuid": "90aaba19_408e634c",
      "range": {
        "startLine": 569,
        "startChar": 2,
        "endLine": 569,
        "endChar": 58
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b806c616_7df79cfd",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 569,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-11T08:34:24Z",
      "side": 1,
      "message": "In lines 771-772 prio_queue is used - it can be added only from core thread.",
      "parentUuid": "24d9ce1d_faee5cfd",
      "range": {
        "startLine": 569,
        "startChar": 2,
        "endLine": 569,
        "endChar": 58
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0987ea2_db50a084",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 659,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-11T07:49:14Z",
      "side": 1,
      "message": "Let\u0027s add a comment here that this functions assumes that the lock is held.",
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b3021c2_798adac8",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 659,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-11T08:34:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0987ea2_db50a084",
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ee4c24c_60aae595",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 828,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-06-07T14:01:51Z",
      "side": 1,
      "message": "I think doing a goto line 843 would be a bit more readable.",
      "range": {
        "startLine": 828,
        "startChar": 2,
        "endLine": 828,
        "endChar": 36
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02731cd9_feb752f2",
        "filename": "lib/ftl/ftl_reloc.c",
        "patchSetId": 12
      },
      "lineNbr": 828,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-06-10T07:41:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0ee4c24c_60aae595",
      "range": {
        "startLine": 828,
        "startChar": 2,
        "endLine": 828,
        "endChar": 36
      },
      "revId": "791df89b8e13a40c8b97f0aaf5813f177aec4058",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}