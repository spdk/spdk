{
  "comments": [
    {
      "key": {
        "uuid": "cf57a4ef_051b0c4b",
        "filename": "doc/Doxyfile",
        "patchSetId": 18
      },
      "lineNbr": 814,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "let\u0027s use spaces here to indent - it matches the rest of this file",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed38e3bb_94d5938d",
        "filename": "doc/ftl.md",
        "patchSetId": 18
      },
      "lineNbr": 19,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "This documentation is fantastic!\n\nFor the label names (i.e. band, rwb), let\u0027s prepend them with ftl_.  That helps guard against duplicates we may have in the future in other doc files.  So ftl_band, ftl_rwb, etc.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dce7d09c_bed98aa9",
        "filename": "include/spdk/ftl.h",
        "patchSetId": 18
      },
      "lineNbr": 55,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "public data structures should have spdk_ - i.e. spdk_ftl_limit, spdk_ftl_conf, etc.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47e87b31_d85dcc5b",
        "filename": "include/spdk/ftl.h",
        "patchSetId": 18
      },
      "lineNbr": 160,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "SPDK style is usually no tab (just a space) between return type and function name.\n\nI know, unfortunately check_format.sh doesn\u0027t check for this.\n\nSame for other functions in this header file.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d372ac1a_754e56c9",
        "filename": "include/spdk/ftl.h",
        "patchSetId": 18
      },
      "lineNbr": 191,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "is this per namespace or per controller?\n\nI\u0027m OK if we just assume a single namespace per controller for now.  In that case, let\u0027s call that out specifically, and provide a meaningful error message if we find an OCSSD with multiple namespaces.\n\nPlease don\u0027t spend time on getting this to work with theoretical multi-namespace OCSSDs.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06fa0dff_ef1d9e1b",
        "filename": "lib/ftl/ftl_core.h",
        "patchSetId": 18
      },
      "lineNbr": 362,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T21:45:53Z",
      "side": 1,
      "message": "Some of these small inline functions I think we can remove.  It\u0027s easier to understand when reading the code if we just see \"lba \u003d\u003d FTL_LBA_INVALID\" in the code instead of needing the extra function call.\n\nIt also doesn\u0027t save us much typing:\nstrlen(\"lba \u003d\u003d FTL_LBA_INVALID\") \u003d\u003d 22\nstrlen(\"ftl_lba_invalid(lba)\") \u003d\u003d 20",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "22c65797_1b54b890",
        "filename": "lib/ftl/ftl_io.h",
        "patchSetId": 18
      },
      "lineNbr": 231,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T21:45:53Z",
      "side": 1,
      "message": "are there cases where the io parameter is not a struct ftl_io *?  Meaning is the cast required?\n\nI\u0027d really prefer that we just do things like io-\u003eflags \u0026 FTL_IO_SOME_FLAG directly - instead of adding the macros.  I don\u0027t think the macro saves much typing, and it adds an extra level of indirection when reading the code.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7be9433_05fe578d",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 18
      },
      "lineNbr": 104,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "can we remove this FTL_INTERNAL now that this will use the SPDK trace functionality?",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "278ceee5_2a50e1a3",
        "filename": "lib/ftl/ftl_trace.h",
        "patchSetId": 18
      },
      "lineNbr": 114,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "same here - can we remove FTL_TRACE?",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "485356be_19d4ed8e",
        "filename": "lib/ftl/ftl_utils.h",
        "patchSetId": 18
      },
      "lineNbr": 37,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "This seems fairly ambiguous.  Why not just have users use x_ENABLED directly?",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d4d3e1b_98459c51",
        "filename": "lib/ftl/ftl_utils.h",
        "patchSetId": 18
      },
      "lineNbr": 40,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "We have separate divide_round_up internal routines in blobstore.c, lvol.c and reduce.c.  We should get something in include/spdk/util.h for this.\n\nCan you add a new patch, getting rid of these divide_round_up routines in SPDK, replacing it with static inline spdk_divide_round_up in include/spdk/util.h?  Then your FTL code can use that instead.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f7321ca_3064f752",
        "filename": "lib/ftl/ftl_utils.h",
        "patchSetId": 18
      },
      "lineNbr": 43,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-12-17T20:02:33Z",
      "side": 1,
      "message": "Do we need a separate header file for just enabled() and ftl_range_intersect()?  Seems like a lot of overhead for a couple of small macros.",
      "revId": "87540d4d8df271270bf8be45b5d3c0df27656b86",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}