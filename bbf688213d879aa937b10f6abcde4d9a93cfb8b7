{
  "comments": [
    {
      "key": {
        "uuid": "5f07122a_09e606c1",
        "filename": "include/spdk/nvme_ocssd.h",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "For reset, the LBAs must correspond only to the start of chunks. That should be mentioned here. Also \"LBAs of sectors\" is redundant - just say LBAs.\n\nMaybe name this parameter:\n\nvoid *lba_list, uint32_t num_lbas\n\nThis matches the wording used in the specification.",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f2723a_407f4795",
        "filename": "include/spdk/nvme_ocssd.h",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1014502
      },
      "writtenOn": "2018-06-14T09:34:48Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "5f07122a_09e606c1",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ef8547bd_63af0f2e",
        "filename": "include/spdk/nvme_ocssd.h",
        "patchSetId": 1
      },
      "lineNbr": 72,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f2f2723a_407f4795",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f3db1cc_dff4ab2f",
        "filename": "lib/nvme/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "If you\u0027re going back to fix things, please break this to the next line",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b129a13a_c847b8d5",
        "filename": "lib/nvme/Makefile",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9f3db1cc_dff4ab2f",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a156094_7effe773",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2018-06-13T11:31:28Z",
      "side": 1,
      "message": "From the public OCSSD 2.0 Spec, vector reset should return chunk status into metadata.\nSince it seems this rule is not welcome to upper layers and firmware, maybe it is OK if we don\u0027t support it.",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ececb05_cc8b9c1b",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "I think we could some day do an spdk_nvme_ocssd_ns_cmd_vector_reset_with_md to support that, but it\u0027s ok to skip it for this patch.",
      "parentUuid": "6a156094_7effe773",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57ec1e7f_40d89576",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1012287
      },
      "writtenOn": "2018-06-13T18:26:16Z",
      "side": 1,
      "message": "Metadata to reset seems to be crucial since Host FTL needs chunk descriptors to identify the failed chunks if vector reset would return error.",
      "parentUuid": "6a156094_7effe773",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f8871ee_70126749",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1014502
      },
      "writtenOn": "2018-06-14T09:34:48Z",
      "side": 1,
      "message": "If the chunk fails, it will be communicated through the error code. The metadata is only to quickly tell the host about changes to the wear index and size. That can be queried using report chunks over time if there is a need to \"resync\" with the drive.",
      "parentUuid": "57ec1e7f_40d89576",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b75c60ef_10fc2773",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "I assume no change is needed for now, ok?",
      "parentUuid": "5f8871ee_70126749",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "909c4657_aa21e6d8",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "Let\u0027s make this 64 a #define and put it in the specification header, since that\u0027s where it is from.",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46dc4d25_f07dbca9",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1014502
      },
      "writtenOn": "2018-06-14T09:34:48Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "909c4657_aa21e6d8",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4efcdad4_64a5db6b",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46dc4d25_f07dbca9",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e69b67bf_1a35810b",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "((uint64_t *)lba_arr)[0]\n\nis more intuitively written as\n\n*((uint64_t *)lba_arr)\n\nfor me, at least.",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2243faf4_b942734c",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1014502
      },
      "writtenOn": "2018-06-14T09:34:48Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e69b67bf_1a35810b",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68235ee0_feb1db3e",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2243faf4_b942734c",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19279b11_462c1062",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1010531
      },
      "writtenOn": "2018-06-13T17:32:09Z",
      "side": 1,
      "message": "Instead of PAGE_SIZE, this needs to be using the logical block size, which is stored in ns-\u003esector_size.\n\nI don\u0027t know what a \"namespace\" even is in OCSSD, but I assume this is the right way to get the value.",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3bdba25_711697a2",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "19279b11_462c1062",
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8dc651ff_3cccfcbe",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1011712
      },
      "writtenOn": "2018-06-13T11:31:28Z",
      "side": 1,
      "message": "this code slice is almost same with spdk_nvme_ocssd_ns_cmd_vector_write_with_md.\nPrefer to combine them into one internal function, looks like this https://review.gerrithub.io/c/spdk/spdk/+/411851/2/lib/nvme/nvme_lnvm.c#124",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6dd2407b_694e374a",
        "filename": "lib/nvme/nvme_ns_ocssd_cmd.c",
        "patchSetId": 1
      },
      "lineNbr": 187,
      "author": {
        "id": 1013988
      },
      "writtenOn": "2018-06-14T17:37:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8dc651ff_3cccfcbe",
      "range": {
        "startLine": 139,
        "startChar": 0,
        "endLine": 187,
        "endChar": 1
      },
      "revId": "bbf688213d879aa937b10f6abcde4d9a93cfb8b7",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}