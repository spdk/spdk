{
  "comments": [
    {
      "key": {
        "uuid": "75afe35c_624e91c7",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 367,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-08-13T18:08:05Z",
      "side": 1,
      "message": "Hi Ziye,\n\nI think this comment can be removed.  This comment explains why the change was made, but long-term, this adds too many details of spdk_iscsi_conn_free_pdu here.\n\nJust calling spdk_iscsi_conn_free_pdu() here, without a comment, I think is fine - it removes some code duplication and makes sure the primary task gets freed.  Just having these details in the commit message is fine.\n\nThanks,\n\n-Jim",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00ed3fb5_126c3fdf",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 367,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2018-08-13T23:13:01Z",
      "side": 1,
      "message": "Yes, this comments, can be removed.",
      "parentUuid": "75afe35c_624e91c7",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f00a7d1_1cdf48fd",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 384,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2018-08-09T06:08:34Z",
      "side": 1,
      "message": "Is there any place that we can release the task\u0027s pdu ?",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85f7c9d6_95e3aa8f",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 384,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2018-08-09T23:52:15Z",
      "side": 1,
      "message": "It is already released, the previous code is wrong.",
      "parentUuid": "6f00a7d1_1cdf48fd",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11e99682_1efa3f8b",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 384,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2018-08-10T03:59:18Z",
      "side": 1,
      "message": "For tasks in the conn-\u003equeued_datain_tasks list, they are primary tasks, so there should be a pdu associated with it, can you point me which place release the associated pdu ?",
      "parentUuid": "85f7c9d6_95e3aa8f",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa86744b_3770be7e",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 384,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-08-13T18:08:05Z",
      "side": 1,
      "message": "I think this is done as part of spdk_iscsi_task_put:\n\nspdk_iscsi_task_put\n  spdk_scsi_task_put\n    task-\u003efree_fn() \u003d\u003d\u003e spdk_iscsi_task_free\n      spdk_iscsi_task_disassociate_pdu\n        spdk_put_pdu\n\nZiye - can you confirm?",
      "parentUuid": "11e99682_1efa3f8b",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "064c8dd3_9f8e56c2",
        "filename": "lib/iscsi/conn.c",
        "patchSetId": 7
      },
      "lineNbr": 384,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2018-08-14T02:18:17Z",
      "side": 1,
      "message": "I can confirm. Changpeng\u0027s question is already addressed. This is related with read task. For read task, we will not free the primary task. So we should do it here. For the pdu remove, it is already done in spdk_iscsi_conn_free_pdu function.",
      "parentUuid": "fa86744b_3770be7e",
      "revId": "6c5b56ed781a1414632b3e3919dde286a55e95ca",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}