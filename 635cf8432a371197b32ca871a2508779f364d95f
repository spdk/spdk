{
  "comments": [
    {
      "key": {
        "uuid": "52785757_8b05b748",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1039,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "I don\u0027t think we should limit NVME_ADMIN commands.",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "83639978_5b415a14",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1039,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "52785757_8b05b748",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4892cbff_ddd9e29f",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1078,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "could we pick one value - either 0 or UINT64_MAX - to mean that there is no limit specified?  i would prefer that to always having to check for two different values\n\nmight also be good to have something like\n\n#define BDEV_QOS_LIMIT_NOT_DEFINED UINT64_MAX (or 0)",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ac8610bd_48313fe3",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1078,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "Here UINT64_MAX means that this rate limit type is never got set and it\u0027s the initial value. 0 is for the case the this rate limit type has been set and later disabled. If it is prefering to only have one value, I can make a follow up patch to set to UINT64_MAX after user disabled it instead of 0. Is this ok? Thanks for the suggestion.",
      "parentUuid": "4892cbff_ddd9e29f",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91d107f5_48b81383",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1112,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "can this just return here?  then no_more_ios can be removed, and the if (no_more_ios \u003d\u003d true) check can be removed too",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05570288_169c25c4",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1112,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91d107f5_48b81383",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "702e82ff_a2f2db4a",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1440,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "I think \"max_per_timeslice\" would be more clear",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af3b1142_48809ef7",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1440,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "702e82ff_a2f2db4a",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e720f5f_26af54b7",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1555,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "This section isn\u0027t clear to me.  This seems to be changing the functionality a bit - before we set the io/byte_remaining_this_timeslice here, but now we don\u0027t do that anymore.\n\nChecking for 0 and then changing to UINT64_MAX could be simplified too - if we could just treat 0 as the undefined limit, that would be better and more clear.",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e225a809_0b9422c0",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 1555,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "The remaining_this_timeslice set has been moved inside the spdk_bdev_qos_update_max_quota_per_timeslice() function. The logic here is to set the min_per_timeslice which is pre-required for the spdk_bdev_qos_update_max_quota_per_timeslice() function. For 0 and UINT64_MAX, please see my previous comment. If preferred, I can update within this patch or have a following up patch to change it. Thanks.",
      "parentUuid": "0e720f5f_26af54b7",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4bfbb4b_f7042f60",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 3043,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2018-09-26T22:09:01Z",
      "side": 1,
      "message": "is this code (3043-3052) needed?\n\nNUM_RATE_LIMIT_TYPES \u003d\u003d 2; if both are set, then this loop will break with i \u003d\u003d NUM_RATE_LIMIT_TYPES, and the if statement following will return as if there\u0027s an error",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f6b73ea_5b9634f7",
        "filename": "lib/bdev/bdev.c",
        "patchSetId": 7
      },
      "lineNbr": 3043,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-09-27T14:40:19Z",
      "side": 1,
      "message": "Yes. This is to support the following patches where we will have overall 6 rate limits type. The logic here is not needed to change although it looks like somewhat complex here.",
      "parentUuid": "b4bfbb4b_f7042f60",
      "revId": "635cf8432a371197b32ca871a2508779f364d95f",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}