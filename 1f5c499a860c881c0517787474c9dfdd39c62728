{
  "comments": [
    {
      "key": {
        "uuid": "2d90235a_216b9e33",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-01T16:32:07Z",
      "side": 1,
      "message": "This should be updated with io-\u003elbk_cnt in case of error",
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cf6715e_c65d3f8a",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-02T13:57:18Z",
      "side": 1,
      "message": "Why do we need to do that? Shouldn\u0027t io-\u003estatus !\u003d 0 be enough?",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1ffb02f_a4efec63",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-03T06:19:19Z",
      "side": 1,
      "message": "If we relying on io-\u003epos to complete callback from now it is cleaner to make this in such way instead adding new condition to io_done",
      "parentUuid": "9cf6715e_c65d3f8a",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24096b01_5045f14d",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-03T07:39:17Z",
      "side": 1,
      "message": "It certainly is not cleaner, as you have to make sure to update the iovec in case of errors. How will ftl_io_done return true if you\u0027re supposed to schedule two reads, but fail here during the first one? You\u0027ll only update io-\u003epos with lbk_cnt of the first read. If you\u0027ve checked io-\u003estatus as well, you\u0027d only need to update iovec in case of success.",
      "parentUuid": "e1ffb02f_a4efec63",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6695795_bf8120ab",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-04T08:25:58Z",
      "side": 1,
      "message": "I\u0027ve add comment that it should be updatated by io-\u003elbk_cnt instead lbk_cnt. I will add separate patch for this io_done, io_upadte_iovec etc manipulation...",
      "parentUuid": "24096b01_5045f14d",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7276bd1f_1e57c9f0",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-04T09:01:29Z",
      "side": 1,
      "message": "I don\u0027t think a comment is enough - the code should be correct for all error cases (or at least it should be explicit in what\u0027s not supported). I\u0027m waiting for the other patch then.",
      "parentUuid": "b6695795_bf8120ab",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "152a5a56_91e3479b",
        "filename": "lib/ftl/ftl_core.c",
        "patchSetId": 9
      },
      "lineNbr": 755,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-04T09:12:31Z",
      "side": 1,
      "message": "I was referring to first comment on this thread. This was fixed in next patch.",
      "parentUuid": "7276bd1f_1e57c9f0",
      "range": {
        "startLine": 755,
        "startChar": 3,
        "endLine": 755,
        "endChar": 22
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23873790_b1191f1e",
        "filename": "lib/ftl/ftl_io.h",
        "patchSetId": 9
      },
      "lineNbr": 254,
      "author": {
        "id": 1015368
      },
      "writtenOn": "2019-04-02T13:57:18Z",
      "side": 1,
      "message": "Since we\u0027re moving away from tracking multiple requests in a single in favor of separate ftl_ios for each individual requsts, can we replace this with a \u0027done\u0027 flag? Also, can we merge the ftl_io_inc_req with the functions that updates io-\u003epos and position within the iovec?",
      "range": {
        "startLine": 254,
        "startChar": 12,
        "endLine": 254,
        "endChar": 19
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b0f218c4_63cf5eef",
        "filename": "lib/ftl/ftl_io.h",
        "patchSetId": 9
      },
      "lineNbr": 254,
      "author": {
        "id": 1015344
      },
      "writtenOn": "2019-04-03T06:19:19Z",
      "side": 1,
      "message": "I think such refactor is topic for separate patch.",
      "parentUuid": "23873790_b1191f1e",
      "range": {
        "startLine": 254,
        "startChar": 12,
        "endLine": 254,
        "endChar": 19
      },
      "revId": "1f5c499a860c881c0517787474c9dfdd39c62728",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}