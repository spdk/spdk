{
  "comments": [
    {
      "key": {
        "uuid": "dcb938a1_d188c59c",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 341,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-02-08T12:39:35Z",
      "side": 1,
      "message": "Maybe have a local variable struct spdk_thread *thread instead of calling this twice().",
      "range": {
        "startLine": 341,
        "startChar": 5,
        "endLine": 341,
        "endChar": 22
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f50d776_a281636f",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-02-08T12:39:35Z",
      "side": 1,
      "message": "should this go to \"ctrlr-\u003ethread\" to sync the \"add_qpair\" operation. Otherwise, it looks like having problem to access same member and the single list?",
      "range": {
        "startLine": 342,
        "startChar": 23,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31586881_a015c7aa",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1010525
      },
      "writtenOn": "2018-02-08T17:07:21Z",
      "side": 1,
      "message": "Agreed, this doesn\u0027t make sense - this will send a message to the current thread, but it seems like it should be sending to ctrlr-\u003ethread.\n\nAlso, I don\u0027t think this totally solves the issue - there are other accesses to ctrlr throughout this function.  We should probably split the whole I/O queue creation section above into its own function, then call that function on the right thread for the ctrlr. (Admin queues shouldn\u0027t need to do any message passing, since they actually create the ctrlr, meaning no other threads can be accessing ctrlr at the same time.)",
      "parentUuid": "7f50d776_a281636f",
      "range": {
        "startLine": 342,
        "startChar": 23,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6d37883_b787815d",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2018-02-08T23:14:09Z",
      "side": 1,
      "message": "Thanks for pointing to this out, this should be ctrlr-\u003ethread",
      "parentUuid": "7f50d776_a281636f",
      "range": {
        "startLine": 342,
        "startChar": 23,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57de3a18_e0b094e6",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 342,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2018-02-08T23:35:52Z",
      "side": 1,
      "message": "Will change it later",
      "parentUuid": "31586881_a015c7aa",
      "range": {
        "startLine": 342,
        "startChar": 23,
        "endLine": 342,
        "endChar": 40
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a90d7dc3_67bc7fa0",
        "filename": "lib/nvmf/ctrlr.c",
        "patchSetId": 1
      },
      "lineNbr": 361,
      "author": {
        "id": 1011207
      },
      "writtenOn": "2018-02-08T12:39:35Z",
      "side": 1,
      "message": "Same for this.",
      "range": {
        "startLine": 361,
        "startChar": 23,
        "endLine": 361,
        "endChar": 40
      },
      "revId": "5ae99d14cef957b83fbd47336a813f81d6a9a66a",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}