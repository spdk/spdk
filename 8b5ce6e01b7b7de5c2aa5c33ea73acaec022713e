{
  "comments": [
    {
      "key": {
        "uuid": "7d4df2a7_77caa06f",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-11-27T18:56:29Z",
      "side": 1,
      "message": "can we just change this to spdk_rmb()?  that\u0027s is similar to what DPDK does, and matches the spdk_smp_mb() \u003d\u003e spdk_mb() definition below",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6d7f3ed_d4c62d50",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-11-27T20:41:09Z",
      "side": 1,
      "message": "but why?\nlwsync stands for \"lighweight sync\", and seems to be just the SMP barrier by definition [1].  \"sync\" seems to synchronize the MMIO as well. Is there any reason we\u0027d need that extra overhead?\n\n[1] https://www.ibm.com/developerworks/systems/articles/powerpc.html",
      "parentUuid": "7d4df2a7_77caa06f",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0ff1f9f_2abe24ba",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 79,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-11-27T21:27:52Z",
      "side": 1,
      "message": "I guess this is OK as-is.  The DPDK analogy isn\u0027t 100% accurate, since it accounts for 32-bit and 64-bit.  32-bit does sync, 64-bit does lwsync (like the code here does).\n\nPlus there is no spdk_rmb yet.  :)",
      "parentUuid": "d6d7f3ed_d4c62d50",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9e87ff5_0ba48bbe",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-11-27T18:56:29Z",
      "side": 1,
      "message": "can we just change this to spdk_wmb()?  that\u0027s is similar to what DPDK does, and matches the spdk_smp_mb() \u003d\u003e spdk_mb() definition below",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "704ccdb4_ae390e4b",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-11-27T20:41:09Z",
      "side": 1,
      "message": "^",
      "parentUuid": "c9e87ff5_0ba48bbe",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf8f3d28_c2ed4b72",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 91,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-11-27T21:27:52Z",
      "side": 1,
      "message": "I\u0027m OK reverting this part of the change (same as above).",
      "parentUuid": "704ccdb4_ae390e4b",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13d1f5e4_435749bd",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 93,
      "author": {
        "id": 1011222
      },
      "writtenOn": "2017-11-27T18:56:29Z",
      "side": 1,
      "message": "should be spdk_smp_wmb",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f4f537c_37d22979",
        "filename": "include/spdk/barrier.h",
        "patchSetId": 3
      },
      "lineNbr": 93,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2017-11-27T20:41:09Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "13d1f5e4_435749bd",
      "revId": "8b5ce6e01b7b7de5c2aa5c33ea73acaec022713e",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}