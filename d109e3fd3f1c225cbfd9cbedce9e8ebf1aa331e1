{
  "comments": [
    {
      "key": {
        "uuid": "ca4705c3_2b416ebe",
        "filename": "lib/event/app.c",
        "patchSetId": 30
      },
      "lineNbr": 125,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "this deviates from the other option names, can you name it JSON_CONFIG_OPT_IDX?",
      "range": {
        "startLine": 125,
        "startChar": 8,
        "endLine": 125,
        "endChar": 20
      },
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07d13602_afaaae2a",
        "filename": "lib/event/app.c",
        "patchSetId": 30
      },
      "lineNbr": 350,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "unrelated change - please make it a separate patch or remove it.",
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1cf83f8c_c080b334",
        "filename": "lib/event/app.c",
        "patchSetId": 30
      },
      "lineNbr": 366,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "shouldn\u0027t we call spdk_app_start_application() here? spdk_app_start_application besides setting the RPC state to SPDK_RPC_RUNTIME also calls g_app_start_event, which is the callback passed to spdk_app_start. The callback doesn\u0027t do anything in some apps (e.g. vhost), but is crucial in others.\n\nAlso, could we reuse spdk_app_start_rpc() for json configs? We can get rid of a few duplicated lines and make the code more readable.",
      "range": {
        "startLine": 366,
        "startChar": 1,
        "endLine": 366,
        "endChar": 38
      },
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "141613e0_92210ceb",
        "filename": "lib/event/json_config.c",
        "patchSetId": 30
      },
      "lineNbr": 330,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "typo - either all or none",
      "range": {
        "startLine": 330,
        "startChar": 23,
        "endLine": 330,
        "endChar": 41
      },
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bf2df35_0f6c3a53",
        "filename": "lib/event/json_config.c",
        "patchSetId": 30
      },
      "lineNbr": 467,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "can we make this a define? E.g. JSON_CONFIG_PREALLOC_SIZE. I don\u0027t like magic numbers.",
      "range": {
        "startLine": 467,
        "startChar": 14,
        "endLine": 467,
        "endChar": 18
      },
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e0f4bbd_57f1a264",
        "filename": "lib/event/json_config.c",
        "patchSetId": 30
      },
      "lineNbr": 525,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "Mixing spdk_call_event() and spdk_thread_send_msg() looks like a mess to me.\n\nCan we require spdk_app_json_config_load() to be called after the reactors have started? E.g. app.c could call it from inside an event. Then we\u0027ll be able to use spdk_thread_send_msg() all the way. Managing lcores isn\u0027t required here.",
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12aa010d_88efdedc",
        "filename": "lib/event/json_config.c",
        "patchSetId": 30
      },
      "lineNbr": 537,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "This stops the app framework before the reactors have technically started. Right now it doesn\u0027t cause any issues, but is really counter intuitive. I vote for calling spdk_app_json_config_load() from within an spdk event.",
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69c504e6_eb96b297",
        "filename": "lib/event/json_config.c",
        "patchSetId": 30
      },
      "lineNbr": 548,
      "author": {
        "id": 1011218
      },
      "writtenOn": "2018-12-12T10:57:30Z",
      "side": 1,
      "message": "There\u0027s no poller here, so I believe this comment is simply outdated.",
      "revId": "d109e3fd3f1c225cbfd9cbedce9e8ebf1aa331e1",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}