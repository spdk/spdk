{
  "comments": [
    {
      "key": {
        "uuid": "49128bbc_bee48f50",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 1234,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2019-01-17T07:51:45Z",
      "side": 1,
      "message": "you can move tsc as internal variable, or just merge the function into its caller.",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e043526_6d521aca",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 1234,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2019-01-17T09:55:16Z",
      "side": 1,
      "message": "put tsc as interal variable will not be efficent.",
      "parentUuid": "49128bbc_bee48f50",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4241c5ee_bdc26e14",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 1339,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-17T23:44:14Z",
      "side": 1,
      "message": "After this patch, last_pdu_time will be updated only in error cases? Is this reasonable and the name last_pdu_time is appropriate?",
      "range": {
        "startLine": 1339,
        "startChar": 9,
        "endLine": 1339,
        "endChar": 22
      },
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "277389cd_49563b05",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2084,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-17T23:44:14Z",
      "side": 1,
      "message": "if this 1 byte read success, this call will fall in infinite loop? This case is probable?",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5850539_198b3ac9",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2084,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2019-01-18T01:43:56Z",
      "side": 1,
      "message": "Yes, this case is possible. \n1 If the return value is -1, which means that the fd is closed. It will not be entered into the endless loop. We do not want to use other system call to check now(it is not provided in the socket yet), so using the same read will be OK.\n2 If the return value is 1. it is OK. This time, the timer is kicked off, any further received data will not be handled. And if the client does not close the socket, our target will close it. And it obeys the spec.",
      "parentUuid": "277389cd_49563b05",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "93f94a6f_b14bce5e",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2084,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-18T02:04:28Z",
      "side": 1,
      "message": "Thank you for fine explanation. I could understand well.\nAnd about last_pdu_time, I missed the comment in the definition of structure. So your patch improves the usage of last_pdu_time.",
      "parentUuid": "d5850539_198b3ac9",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51d27036_8bdfd8a0",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2084,
      "author": {
        "id": 1012251
      },
      "writtenOn": "2019-01-18T02:07:55Z",
      "side": 1,
      "message": "But for the second case, is there any chance to run the poller to call spdk_nvmf_tcp_poll_group_handle_timeout() ?",
      "parentUuid": "93f94a6f_b14bce5e",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e32ed5b_a8d0896e",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2084,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2019-01-18T02:30:35Z",
      "side": 1,
      "message": "Yes, it has chance, you can see that. our while loop checks the state, if it is in the same state twice, it will break and return. So definitely, the timeout function will be called.",
      "parentUuid": "51d27036_8bdfd8a0",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f367687_5d2992ce",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2662,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2019-01-17T07:51:45Z",
      "side": 1,
      "message": "move the previous {} section.",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa5e9c4c_2602fe09",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2662,
      "author": {
        "id": 1011275
      },
      "writtenOn": "2019-01-17T09:55:16Z",
      "side": 1,
      "message": "What does thie mean?  The NVMe_TCP_QPAIR_STATE_EXITING can be ret without return rc \u003c 0",
      "parentUuid": "0f367687_5d2992ce",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8e131a4_28b9c13d",
        "filename": "lib/nvmf/tcp.c",
        "patchSetId": 8
      },
      "lineNbr": 2662,
      "author": {
        "id": 1011204
      },
      "writtenOn": "2019-01-18T00:46:57Z",
      "side": 1,
      "message": "you don\u0027t need to change this part of code, so just combine the two if sections together.",
      "parentUuid": "aa5e9c4c_2602fe09",
      "revId": "1503014e760c6c35a71115619c55163ba7e4e635",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}